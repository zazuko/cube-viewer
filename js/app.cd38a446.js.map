{"version":3,"file":"js/app.cd38a446.js","mappings":"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","sources":["webpack://cube-viewer/./src/components/common/cubeDimensions.js","webpack://cube-viewer/./src/components/common/labelFor.js","webpack://cube-viewer/./src/components/CubeSelector.vue","webpack://cube-viewer/./src/components/CubeSelector.vue?6bdf","webpack://cube-viewer/./src/components/SelectBox.vue","webpack://cube-viewer/./src/components/SelectBox.vue?dd7d","webpack://cube-viewer/./src/components/ViewSelector.vue","webpack://cube-viewer/./src/components/ViewSelector.vue?4252","webpack://cube-viewer/./src/components/SourceConfig.vue","webpack://cube-viewer/./src/components/SourceConfig.vue?1521","webpack://cube-viewer/./src/components/common/debug.js","webpack://cube-viewer/./src/components/common/projection.js","webpack://cube-viewer/./src/components/common/viewLoaders.js","webpack://cube-viewer/./src/components/ResourceDetailsDialog.vue","webpack://cube-viewer/./src/components/ResourceDetailsDialog.vue?2add","webpack://cube-viewer/./src/components/MetadataHeader.vue","webpack://cube-viewer/./src/components/MetadataHeader.vue?78ab","webpack://cube-viewer/./src/components/ShareUrlButton.vue","webpack://cube-viewer/./src/components/ShareUrlButton.vue?86c8","webpack://cube-viewer/./src/stores/viewStore.js","webpack://cube-viewer/./src/components/debug/Editbox.vue","webpack://cube-viewer/./src/components/debug/Editbox.vue?b0eb","webpack://cube-viewer/./src/components/debug/DebugBox.vue","webpack://cube-viewer/./src/components/debug/DebugBox.vue?aac9","webpack://cube-viewer/./src/components/DataKindIcon.vue","webpack://cube-viewer/./src/components/DataKindIcon.vue?94d4","webpack://cube-viewer/./src/components/TermInput.vue","webpack://cube-viewer/./src/components/TermInput.vue?eafc","webpack://cube-viewer/./src/components/SelectBoxMultiple.vue","webpack://cube-viewer/./src/components/DimensionFilter.vue","webpack://cube-viewer/./src/components/DimensionFilter.vue?4a7e","webpack://cube-viewer/./src/components/DimensionFilters.vue","webpack://cube-viewer/./src/components/DimensionFilters.vue?113e","webpack://cube-viewer/./src/components/DimensionMetadata.vue","webpack://cube-viewer/./src/components/DimensionMetadata.vue?8454","webpack://cube-viewer/./src/components/ScaleTypeIcon.vue","webpack://cube-viewer/./src/components/ScaleTypeIcon.vue?09a1","webpack://cube-viewer/./src/components/DimensionHeader.vue","webpack://cube-viewer/./src/components/DimensionHeader.vue?c8e1","webpack://cube-viewer/./src/components/PaginationMenu.vue","webpack://cube-viewer/./src/components/PaginationMenu.vue?9916","webpack://cube-viewer/./src/components/common/columnHeaders.js","webpack://cube-viewer/./src/components/TabularView.vue","webpack://cube-viewer/./src/components/TabularView.vue?a47e","webpack://cube-viewer/./src/components/Viewer.vue","webpack://cube-viewer/./src/components/Viewer.vue?363d","webpack://cube-viewer/./src/App.vue","webpack://cube-viewer/./src/App.vue?7ccd","webpack://cube-viewer/./src/main.js","webpack://cube-viewer/./src/model/operation.js","webpack://cube-viewer/./src/namespace.js","webpack://cube-viewer/./src/remote.js","webpack://cube-viewer/./src/stores/langStore.js","webpack://cube-viewer/./src/components/ResourceExplorer.vue","webpack://cube-viewer/./src/components/ResourceDetails.vue","webpack://cube-viewer/./src/components/ResourceDetails.vue?af4e","webpack://cube-viewer/./src/components/ResourceExplorer.vue?3847","webpack://cube-viewer/./src/components/ObservationValue.vue","webpack://cube-viewer/./src/components/ObservationValue.vue?e8af","webpack://cube-viewer/./src/components/TermDisplay.vue","webpack://cube-viewer/./src/components/TermDisplay.vue?08a4","webpack://cube-viewer/./src/components/icons/LoadingIcon.vue","webpack://cube-viewer/./src/components/icons/LoadingIcon.vue?847b","webpack://cube-viewer/webpack/bootstrap","webpack://cube-viewer/webpack/runtime/chunk loaded","webpack://cube-viewer/webpack/runtime/compat get default export","webpack://cube-viewer/webpack/runtime/create fake namespace object","webpack://cube-viewer/webpack/runtime/define property getters","webpack://cube-viewer/webpack/runtime/ensure chunk","webpack://cube-viewer/webpack/runtime/get javascript chunk filename","webpack://cube-viewer/webpack/runtime/get mini-css chunk filename","webpack://cube-viewer/webpack/runtime/global","webpack://cube-viewer/webpack/runtime/hasOwnProperty shorthand","webpack://cube-viewer/webpack/runtime/load script","webpack://cube-viewer/webpack/runtime/make namespace object","webpack://cube-viewer/webpack/runtime/node module decorator","webpack://cube-viewer/webpack/runtime/publicPath","webpack://cube-viewer/webpack/runtime/jsonp chunk loading","webpack://cube-viewer/webpack/startup"],"sourcesContent":["/* eslint-disable */\n\nimport rdf from 'rdf-ext'\n\nconst viewAsNN = rdf.namedNode('https://cube.link/view/as')\nconst viewFrom = rdf.namedNode('https://cube.link/view/from')\n\nfunction toViewDimension ({\n  view,\n  cubeDimension\n}) {\n  const result = view.dimension({ cubeDimension })\n  if (!result) {\n    const cubeDimensionTerm = cubeDimension.ptr ? cubeDimension.ptr.term : cubeDimension\n    for (const dimension of view.dimensions) {\n      const viewAs = dimension.ptr.out(viewAsNN).term\n      if (viewAs && viewAs.equals(cubeDimensionTerm)) {\n        return dimension\n      }\n    }\n    // If there is no view dimension using viewAs try viewFrom\n    for (const dimension of view.dimensions) {\n      const viewFromTerm = dimension.ptr.out(viewFrom).term\n      if (viewFromTerm && viewFromTerm.equals(cubeDimensionTerm)) {\n        return dimension\n      }\n    }\n    console.log(`No dimension found for`, cubeDimensionTerm.value)\n  }\n  return result\n}\n\nfunction cubeDimensionsWithFallBack ({ dimension }) {\n  const result = dimension.cubeDimensions\n\n  if (result.length > 0) {\n    return result\n  }\n\n  const cubeDimensions = dimension.ptr.out(viewFrom).terms\n  return cubeDimensions.map(term => ({\n    term: term,\n    ptr: dimension.ptr.node(term),\n    path: dimension.ptr.out(viewAsNN).term,\n    dataset: dimension.dataset,\n    graph: dimension.graph,\n    in: []\n  }))\n}\n\nexport { toViewDimension, cubeDimensionsWithFallBack }\n","/* eslint-disable */\nimport rdf from 'rdf-ext'\nimport * as ns from '../../namespace.js'\nimport { cubeDimensionsWithFallBack, toViewDimension } from './cubeDimensions.js'\n\nfunction isLabelDimension (dimension) {\n  return !!dimension.ptr.has(ns.view.labelFor).term\n}\n\nfunction getLabelCubeDimension ({\n  dimension,\n  view\n}) {\n  const labelDimension = dimension.ptr.in(ns.view.labelFor).term\n  if (labelDimension) {\n    const viewLabelDimension = view.dimensions.find(dimension => {\n      return dimension.ptr.term.equals(labelDimension)\n    })\n    return viewLabelDimension ? cubeDimensionsWithFallBack({ dimension: viewLabelDimension })[0] : undefined\n  }\n}\n\nfunction getEffectiveDimensions ({ view }) {\n  if (view) {\n    const viewDimensions = view.projectionDimensions\n    if (viewDimensions) {\n      return viewDimensions.filter(dim => !isLabelDimension(dim))\n        .map(dimension => {\n          return {\n            viewDimension: dimension,\n            cubeDimension: cubeDimensionsWithFallBack({ dimension })[0],\n            labelCubePath: getLabelCubeDimension({\n              dimension,\n              view\n            })?.path,\n            viewAs: dimension.ptr.out(ns.view.as).term\n          }})\n    }\n  }\n  return []\n}\n\nfunction isLabelDimensionTarget ({\n  cubePathStr,\n  view\n}) {\n  const viewDimension = toViewDimension({ view, cubeDimension:rdf.namedNode(cubePathStr) })\n  return !!(viewDimension && viewDimension.ptr.in(ns.view.labelFor).term)\n}\n\nexport { getEffectiveDimensions, isLabelDimensionTarget }\n","<template>\n  <div v-if=\"cubes.isLoading\" class=\"p-2 flex items-center gap-2\">\n    <loading-icon />\n    Loading cubes...\n  </div>\n  <div v-else-if=\"cubes.error\" class=\"p-2 text-red-500\">\n    {{ cubes.error }}\n  </div>\n  <select v-else :value=\"cubeUri\" @change=\"onSelect\">\n    <option v-for=\"cube in cubes.data\" :key=\"cube.term.value\" :value=\"cube.term.value\">\n      {{ cube.term.value }}\n    </option>\n  </select>\n</template>\n\n<script>\nimport { defineComponent, onMounted, ref, toRefs, watch } from 'vue'\nimport { Cube, Source } from 'rdf-cube-view-query'\nimport LoadingIcon from './icons/LoadingIcon.vue'\nimport * as Remote from '../remote'\n\nexport default defineComponent({\n  name: 'CubeSelector',\n  components: { LoadingIcon },\n  props: {\n    source: {\n      type: Source,\n      required: true,\n    },\n    cubeUri: String,\n  },\n  emits: ['select'],\n\n  setup (props) {\n    const { source } = toRefs(props)\n    const cubes = ref(Remote.loading())\n    const fetchCubes = async () => {\n      cubes.value = Remote.loading()\n      cubes.value = await Remote.fetch(async () => source.value.cubes({\n        noShape: true,\n        filters: [\n          Cube.filter.noValidThrough(),\n          Cube.filter.noExpires(),\n        ],\n      }))\n    }\n    onMounted(fetchCubes)\n    watch(source, fetchCubes)\n\n    return {\n      cubes,\n    }\n  },\n\n  methods: {\n    onSelect (event) {\n      this.$emit('select', event.target.value)\n    },\n  },\n})\n</script>\n","import { render } from \"./CubeSelector.vue?vue&type=template&id=5618809b\"\nimport script from \"./CubeSelector.vue?vue&type=script&lang=js\"\nexport * from \"./CubeSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <Listbox :modelValue=\"modelValue\" @update:modelValue=\"$emit('update:modelValue', $event)\" as=\"div\" class=\"relative\">\n      <ListboxButton class=\"button hover:bg-white pr-2\">\n        <slot name=\"button\" :selected=\"modelValue\">\n          <span v-if=\"modelValue\">{{ modelValue?.label }}</span>\n          <span v-else class=\"text-gray-500\">Select</span>\n        </slot>\n        <chevron-down-icon class=\"w-5 h-5 text-gray-500\" />\n      </ListboxButton>\n      <ListboxOptions class=\"absolute z-10 min-w-full border rounded-md shadow-md bg-white max-h-80 overflow-y-auto outline-none\">\n        <ListboxOption\n          v-for=\"(option, index) in options\"\n          @click=\"(event)=>event.preventDefault()\"\n          :key=\"index\"\n          :value=\"option\"\n          as=\"template\"\n          v-slot=\"{ active, selected }\"\n        >\n          <button class=\"w-full p-2 flex items-center gap-1\" :class=\"{ 'bg-blue-50': active }\">\n            <check-icon class=\"w-5 h-5\" :class=\"{ 'invisible': !selected }\" />\n            <slot name=\"option\" :option=\"option\">{{ option.label }}</slot>\n          </button>\n        </ListboxOption>\n      </ListboxOptions>\n    </Listbox>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { Listbox, ListboxButton, ListboxOptions, ListboxOption } from '@headlessui/vue'\nimport { CheckIcon, ChevronDownIcon } from '@heroicons/vue/solid'\n\nexport default defineComponent({\n  name: 'SelectBox',\n  components: { CheckIcon, ChevronDownIcon, Listbox, ListboxButton, ListboxOptions, ListboxOption },\n  props: {\n    options: {\n      type: Array,\n      required: true,\n    },\n    modelValue: {\n    },\n  },\n  emits: ['update:modelValue'],\n})\n</script>\n","import { render } from \"./SelectBox.vue?vue&type=template&id=7677b663\"\nimport script from \"./SelectBox.vue?vue&type=script&lang=js\"\nexport * from \"./SelectBox.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div v-if=\"views.isLoading\" class=\"p-2 flex items-center gap-2\">\n    <loading-icon />\n    Loading views ...\n  </div>\n  <div v-else-if=\"views.error\" class=\"p-2 text-red-500\">\n    {{ views.error }}\n  </div>\n  <select v-else :value=\"viewUri\" @change=\"onSelect\">\n    <option v-for=\"view in views.data\" :key=\"view.term.value\" :value=\"view.term.value\">\n      {{ view.term.value }}\n    </option>\n  </select>\n</template>\n\n<script>\nimport { Source } from 'rdf-cube-view-query'\nimport { defineComponent, onMounted, ref, toRefs, watch } from 'vue'\nimport * as Remote from '../remote'\nimport LoadingIcon from './icons/LoadingIcon.vue'\n\nexport default defineComponent({\n  name: 'ViewSelector',\n  components: { LoadingIcon },\n  props: {\n    source: {\n      type: Source,\n      required: true,\n    },\n    viewUri: String,\n  },\n  emits: ['select'],\n\n  setup (props) {\n    const { source } = toRefs(props)\n    const views = ref(Remote.loading())\n    const fetchCubes = async () => {\n      views.value = Remote.loading()\n      views.value = await Remote.fetch(async () => {\n        return source.value.views({\n          noShape: true,\n        })\n      })\n    }\n    onMounted(fetchCubes)\n    watch(source, fetchCubes)\n\n    return {\n      views,\n    }\n  },\n\n  methods: {\n    onSelect (event) {\n      this.$emit('select', event.target.value)\n    },\n  },\n})\n</script>\n","import { render } from \"./ViewSelector.vue?vue&type=template&id=0f7717dc\"\nimport script from \"./ViewSelector.vue?vue&type=script&lang=js\"\nexport * from \"./ViewSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { XCircleIcon } from '@heroicons/vue/outline'\nimport { CogIcon } from '@heroicons/vue/solid'\nimport { useUrlSearchParams } from '@vueuse/core'\nimport { storeToRefs } from 'pinia'\nimport { Source } from 'rdf-cube-view-query'\nimport { computed, defineEmits, defineProps, onMounted, ref } from 'vue'\nimport useLangStore from '../stores/langStore.js'\nimport CubeSelector from './CubeSelector.vue'\n\nimport SelectBox from './SelectBox.vue'\nimport ViewSelector from './ViewSelector.vue'\n\nconst entityTypes = ['cubes', 'views']\nconst languages = ['de', 'fr', 'it', 'rm', 'en']\n\nconst params = useUrlSearchParams('hash-params')\n\nconst props = defineProps({\n  source: {\n    type: Source,\n    required: false\n  },\n  viewInput: {\n    type: Object,\n    required: false\n  }\n})\n\nconst emit = defineEmits(['update:source', 'setViewInput'])\n\nconst open = ref()\nconst options = ref()\nconst ifNoInputSelected = ref('cubes')\n\nonMounted(() => {\n  open.value = !(props.source?.endpoint)\n  options.value = {\n    endpointUrl: params.endpointUrl ? params.endpointUrl : process.env.VUE_APP_ENDPOINT_URL,\n    user: params.user,\n    password: params.password,\n    sourceGraph: params.sourceGraph\n  }\n})\n\nconst entityType = computed(() => {\n  if (props.viewInput) {\n    const {\n      cubeUri,\n      viewUri,\n      dataset\n    } = props.viewInput\n    if (cubeUri) {\n      return 'cubes'\n    } else if (viewUri) {\n      return 'views'\n    } else if (dataset) {\n      return 'link'\n    } else {\n      return ifNoInputSelected.value\n    }\n  }\n})\n\nconst langStore = useLangStore()\nconst {\n  language,\n  pointer\n} = storeToRefs(langStore)\n\nfunction updateLanguage (selectedLang) {\n  language.value = [selectedLang, ...languages, '*']\n}\n\nfunction isValid () {\n  return options.value?.endpointUrl\n}\n\nfunction updateSource () {\n  if (isValid()) {\n    const source = new Source(options.value)\n    emit('update:source', source)\n    open.value = false\n  }\n}\n\nfunction switchEntityType (arg) {\n  ifNoInputSelected.value = arg\n  emit('setViewInput', {})\n}\n\nfunction updateCubeUri (cubeUri) {\n  emit('setViewInput', { cubeUri })\n}\n\nfunction updateViewUri (viewUri) {\n  emit('setViewInput', { viewUri })\n}\n\nfunction clearInput (value) {\n  emit('setViewInput', {})\n}\n\n</script>\n\n<template>\n\n  <div class=\"p-3 bg-white shadow-lg flex justify-between items-center\">\n    <form @submit.prevent=\"updateSource\" v-if=\"open\" class=\"w-1/3 flex flex-col gap-2\">\n      <label class=\"form-field\">\n        <span class=\"label\">SPARQL endpoint URL</span>\n        <input type=\"text\" v-model=\"options.endpointUrl\"/>\n      </label>\n\n      <label class=\"form-field\">\n        <span class=\"label\">Username</span>\n        <input type=\"text\" v-model=\"options.user\" />\n      </label>\n\n      <label class=\"form-field\">\n        <span class=\"label\">Password</span>\n        <input type=\"text\" v-model=\"options.password\" />\n      </label>\n\n      <label class=\"form-field\">\n        <span class=\"label\">Source graph</span>\n        <input type=\"text\" v-model=\"options.sourceGraph\" />\n      </label>\n\n      <div class=\"flex justify-between\">\n        <button type=\"submit\" class=\"button-primary\" :disabled=\"!isValid\">\n          Fetch cubes\n        </button>\n        <button type=\"button\" class=\"button-text\" title=\"Close\" @click=\"open = false\">\n          <x-circle-icon class=\"h-6 w-6\" />\n        </button>\n      </div>\n    </form>\n\n    <div v-show=\"!open\" class=\"flex items-end gap-2\">\n      <template v-if=\"entityType==='views' || entityType==='cubes' \">\n        <select-box :options=\"entityTypes\" :model-value=\"entityType\" @update:model-value=\"switchEntityType\">\n          <template v-slot:button=\"{ selected }\">\n            {{ selected }}\n          </template>\n          <template v-slot:option=\"{ option }\">\n            {{ option }}\n          </template>\n        </select-box>\n\n        <cube-selector\n          v-if=\"source && entityType==='cubes' \"\n          :source=\"source\"\n          :cube-uri=\"viewInput.cubeUri\"\n          @select=\"updateCubeUri\"\n        />\n        <view-selector\n          v-if=\"source && entityType==='views'\"\n          :source=\"source\"\n          :view-uri=\"viewInput.viewUri\"\n          @select=\"updateViewUri\"\n        />\n      </template>\n      <button class=\"button\" @click=\"open = true\">\n        <cog-icon class=\"h-4 w-4\"/>\n        Endpoint config\n      </button>\n      <select-box :options=\"languages\" :model-value=\"language[0]\" @update:model-value=\"updateLanguage\">\n        <template v-slot:button=\"{ selected }\">\n          {{ selected }}\n        </template>\n        <template v-slot:option=\"{ option }\">\n          {{ option }}\n        </template>\n      </select-box>\n      <template v-if=\"entityType==='link'\">\n        <button type=\"button\" class=\"button-text\" title=\"Close\" @click=\"clearInput\">\n          Clear\n          <x-circle-icon class=\"h-6 w-6\"/>\n        </button>\n      </template>\n    </div>\n\n  </div>\n</template>\n","import script from \"./SourceConfig.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SourceConfig.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable */\nimport rdf from 'rdf-ext'\nimport { view } from '../../namespace.js'\n\nfunction getBoundedViewPointer (view) {\n  const { term, dataset } = getBoundedDescription({\n    term: view.term,\n    dataset: view.dataset,\n  })\n  return rdf.clownface({ term, dataset })\n}\n\nfunction getBoundedDescription ({\n  term,\n  dataset,\n}) {\n  const descriptionWithBlankNodes = rdf.traverser(({\n    dataset,\n    level,\n    quad\n  }) => level === 0 || (quad.subject.termType === 'BlankNode' && level < 20) || (quad.predicate.value.startsWith(view.value) && level < 20))\n  const result = rdf.dataset()\n  result.addAll(descriptionWithBlankNodes.match({\n    term,\n    dataset,\n  }))\n\n  return {\n    term,\n    dataset: result,\n  }\n}\nexport { getBoundedViewPointer }\n","/* eslint-disable */\nimport * as ns from '../../namespace.js'\nimport { toViewDimension } from './cubeDimensions.js'\nconst DEFAULT_PAGE_SIZE = 10\n\nfunction projectionFromView (view) {\n  const offset = view.offset() ?? 0\n  const pageSize = view.limit() ?? DEFAULT_PAGE_SIZE\n  const page = Math.floor(offset / pageSize) + 1\n  const {\n    sortDimension,\n    sortDirection\n  } = getSorting(view)\n  return {\n    page,\n    pageSize,\n    sortDimension,\n    sortDirection\n  }\n}\n\nfunction updateViewProjection ({\n  view,\n  projection\n}) {\n  const {\n    page,\n    pageSize,\n    sortDimension,\n    sortDirection\n  } = projection\n\n  if (!view) {\n    return view\n  }\n\n  const limit = pageSize\n  const offset = (page - 1) * pageSize\n\n  function getOrderBy (cubeDimension, sortDirection) {\n    if (!cubeDimension) {\n      return null\n    }\n    const orderDimension = toViewDimension({\n      view,\n      cubeDimension\n    })\n    return [\n      {\n        dimension: orderDimension.ptr.term,\n        direction: sortDirection\n      }]\n  }\n  const orderBy = getOrderBy(sortDimension,sortDirection)\n  view.updateProjection({\n    offset,\n    limit,\n    orderBy: orderBy\n  })\n  return view\n}\n\nfunction getSorting (view) {\n  const orderBy = view.orderBy()\n\n  if (!orderBy) {\n    return {\n      sortDimension: null,\n      sortDirection: ns.view.Ascending\n    }\n  } else if (orderBy.length === 1) {\n    const {\n      sortDimension,\n      sortDirection\n    } = orderBy[0]\n    return {\n      sortDimension,\n      sortDirection\n    }\n  } else if (orderBy.length > 1) {\n    throw Error('Only one criterion supported')\n  }\n}\n\nexport {\n  projectionFromView, updateViewProjection, DEFAULT_PAGE_SIZE\n}\n","/* eslint-disable */\nimport { CubeSource, View } from 'rdf-cube-view-query/index.js'\nimport { ViewBuilder } from 'rdf-cube-view-query/lib/builders.js'\nimport * as ns from '../../namespace.js'\nimport { cubeDimensionsWithFallBack } from './cubeDimensions.js'\nimport { DEFAULT_PAGE_SIZE } from './projection.js'\n\nasync function viewFromCubeUri ({ source, cubeUri }) {\n  const cube = await source.cube(cubeUri)\n  cube.source = CubeSource.fromSource(cube.source, cube)\n  const view = View.fromCube(cube)\n  checkViewData({view})\n  return applyDefaults({ view })\n}\n\nasync function viewFromViewUri ({ source, viewUri }) {\n  const view = await source.view(viewUri)\n  await view.fetchCubesShapes()\n  checkViewData({view})\n  return applyDefaults({ view })\n}\n\nasync function viewFromDataset ({\n  dataset,\n  fallbackSource\n}) {\n  const views = [...dataset.match(null, ns.rdf.type, ns.view.View)]\n  if (views.length < 1) {\n    return undefined\n  }\n  const {\n    view\n  } = ViewBuilder.fromDataset({\n    term: views[0].subject,\n    dataset\n  })\n  if (view.sources().length < 1) {\n    view.source = fallbackSource\n  }\n  await view.fetchCubesShapes()\n  checkViewData({view})\n  return applyDefaults({ view })\n}\n\nfunction checkViewData ({ view }) {\n\n  if (!view.projectionDimensions) {\n    throw Error('requires a projection with dimensions defined')\n  }\n\n  for (const dimension of view.dimensions) {\n\n    const cubeDimensions = cubeDimensionsWithFallBack({ dimension })\n\n    if (!cubeDimensions.length) {\n      throw Error(`no cube-dimensions found for view-dimension ${dimension.ptr.value}, through cube:observationConstraint`)\n    }\n    for (const cubeDimension of cubeDimensions) {\n      if (!cubeDimension.path) {\n        throw Error(`no path found for ${cubeDimension.ptr.value}`)\n      }\n    }\n  }\n}\n\nfunction applyDefaults ({ view }) {\n  // If there isn't a projection with a limit, add one with default values\n  const offset = view.offset() ?? 0\n  const pageSize = view.limit() ?? DEFAULT_PAGE_SIZE\n  view.offset(offset)\n  view.limit(pageSize)\n  return view\n}\n\nexport {\n  viewFromCubeUri, viewFromDataset, viewFromViewUri\n}\n","<template>\n  <Dialog :open=\"isOpen\" @close=\"$emit('close')\" class=\"fixed inset-0 z-10 overflow-y-auto\">\n    <div class=\"flex items-center justify-center min-h-screen px-4\">\n      <dialog-overlay class=\"fixed inset-0 bg-black opacity-40\" />\n\n      <div class=\"z-10 max-w-full overflow-x-auto mx-auto bg-white rounded p-4\">\n        <dialog-title class=\"flex justify-between items-center gap-2 mb-2 font-bold\">\n          {{ title }}\n\n          <button type=\"button\" class=\"button-text\" title=\"Close\" @click=\"$emit('close')\">\n            <x-circle-icon class=\"h-6 w-6\" />\n          </button>\n        </dialog-title>\n\n        <table>\n          <tr v-for=\"[predicate, objects] in properties\" :key=\"predicate.value\" class=\"align-top\">\n            <th class=\"pr-4 text-left font-semibold pb-2\">\n              <term-display :term=\"predicate\" />\n            </th>\n            <td class=\"pb-2\">\n              <p v-for=\"(object, index) in objects\" :key=\"index\">\n                <term-display v-if=\"object\" :term=\"object\" show-language />\n              </p>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </Dialog>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { Clownface } from 'clownface'\nimport { Dialog, DialogOverlay, DialogTitle } from '@headlessui/vue'\nimport { XCircleIcon } from '@heroicons/vue/outline'\nimport RDF from 'rdf-ext'\nimport TermDisplay from './TermDisplay.vue'\n\nexport default defineComponent({\n  name: 'DimensionMetadata',\n  components: {\n    Dialog,\n    DialogOverlay,\n    DialogTitle,\n    TermDisplay,\n    XCircleIcon,\n  },\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    pointer: {\n      type: Clownface,\n      required: true,\n    },\n    isOpen: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: ['close'],\n\n  computed: {\n    properties () {\n      const pointer = this.pointer\n      const predicates = RDF.termSet([...pointer.dataset.match(pointer.term)].map(({ predicate }) => predicate))\n\n      return [...predicates].map(predicate => [predicate, pointer.out(predicate).terms])\n    },\n  },\n})\n</script>\n","import { render } from \"./ResourceDetailsDialog.vue?vue&type=template&id=35e32efc\"\nimport script from \"./ResourceDetailsDialog.vue?vue&type=script&lang=js\"\nexport * from \"./ResourceDetailsDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { InformationCircleIcon } from '@heroicons/vue/outline'\nimport { computed, defineProps, ref } from 'vue'\nimport * as ns from '../namespace.js'\nimport useLangStore from '../stores/langStore.js'\nimport ResourceDetailsDialog from './ResourceDetailsDialog.vue'\n\nconst props = defineProps({\n  pointer: {\n    type: Object,\n    required: true\n  }\n})\n\nconst langStore = useLangStore()\nconst isMetadataOpen = ref(false)\n\nconst description = computed(() => {\n  if (!props.pointer) {\n    return null\n  }\n  const description = props.pointer.out(ns.schema.description, { language: langStore.language }).value\n  return description ?? null\n})\n\nconst title = computed(() => {\n  if (!props.pointer) {\n    return null\n  }\n  const title = props.pointer.out(ns.schema.name, { language: langStore.language }).value\n  return title ?? null\n})\n\n</script>\n\n<template>\n  <div class=\"flex flex-row\">\n    <h1 class=\"font-bold mb-2 grow\" :title=\"pointer.term.value\">\n      <span v-if=\"title\">{{ title }}</span>\n      <span v-else class=\"text-gray-500\">Untitled</span>\n    </h1>\n  </div>\n  <section v-if=\"description\" class=\"text-sm text-gray-700\">\n    {{ description }}\n  </section>\n  <div>\n    <button @click=\"isMetadataOpen = true\" title=\"Metadata\">\n      <information-circle-icon class=\"text-gray-500 w-5 h-5\"/>\n    </button>\n    <resource-details-dialog\n      title=\"Metadata\"\n      :pointer=\"pointer\"\n      :is-open=\"isMetadataOpen\"\n      @close=\"isMetadataOpen = false\"\n    />\n  </div>\n</template>\n","import script from \"./MetadataHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MetadataHeader.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { Popover, PopoverButton, PopoverPanel } from '@headlessui/vue'\nimport { ShareIcon } from '@heroicons/vue/solid'\nimport { useClipboard } from '@vueuse/core'\nimport { defineEmits, onMounted, ref } from 'vue'\n\nconst emit = defineEmits(['prepareParams'])\n\nconst source = ref()\nconst {\n  text,\n  copy,\n  copied,\n  isSupported\n} = useClipboard({ source })\n\nonMounted(() => {\n  source.value = new URL(window.location.href)\n})\n\nasync function copyURL (url) {\n  const body = new URLSearchParams({ url })\n  const response = await fetch('https://s.zazuko.com/api/v1/shorten/', {\n    method: 'POST',\n    body\n  })\n  const res = await response\n  if (res.status<200 || res.status >= 300) {\n    console.error('shortener error', res.status)\n    source.value = url\n  } else {\n    source.value = await response.text()\n  }\n  await copy(source.value)\n}\n\ndefineExpose({\n  copyURL,\n})\n\nfunction prepareParams() {\n  emit('prepareParams')\n}\n\n</script>\n\n<template>\n\n  <Popover class=\"relative\">\n    <PopoverButton class=\"button\" title=\"Share\" @click='prepareParams'>\n      <share-icon class=\"w-5 h-5\"/>\n    </PopoverButton>\n    <span v-if='!copied'>Copy</span>\n    <span v-else>Copied!</span>\n    <PopoverPanel v-if=\"copied\" class=\"absolute right-0 z-10 border bg-white p-2\">\n      <span class=\"text-sm text-green-500\">\n        Copied to clipboard\n      </span>\n    </PopoverPanel>\n  </Popover>\n</template>\n","import script from \"./ShareUrlButton.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShareUrlButton.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable */\nimport { defineStore } from 'pinia'\nimport { Filter } from 'rdf-cube-view-query'\nimport { shallowRef } from 'vue'\n\nconst useViewStore = defineStore('viewStore', () => {\n  // State\n  const currentView = shallowRef()\n\n  // Getter\n  function filtersOfDimension (viewDimension) {\n    return currentView.value.filters.filter(x => x.dimension.equals(viewDimension.ptr.term))\n  }\n\n  function removeFilter ({ filter }) {\n    currentView.value.clearFilter(filter)\n  }\n\n  function updateDimensionFilters (viewDimension, newFilters) {\n\n    for (const filter of filtersOfDimension(viewDimension)) {\n      if (!filter.argList) { // Keep it like it was\n        currentView.value.clearFilter(filter)\n      }\n    }\n    for (const filter of newFilters) {\n      const newFilter = new Filter({\n        dimension: viewDimension,\n        operation: filter.operation,\n        arg: filter.args,\n        parent: currentView.value\n      })\n\n      currentView.value.addFilter(newFilter)\n    }\n  }\n\n  return {\n    currentView,\n    filtersOfDimension,\n    updateDimensionFilters,\n    removeFilter\n  }\n})\n\nexport default useViewStore\n","<script setup>\n/* eslint-disable */\nimport '@rdfjs-elements/rdf-editor'\n\nimport { defineProps, defineEmits, ref, onMounted } from 'vue'\n\nconst emit = defineEmits(['updateView'])\n\nconst props = defineProps({\n  format: {\n    required: true,\n    default: 'text/turtle',\n    type: String\n  },\n  quads: Array,\n})\n\nconst parseError = ref()\n\nfunction onParsingFailed (e) {\n  parseError.value = e?.detail?.error\n}\n\nconst editor = ref()\n\nfunction onQuadsChanged({ detail }){\n  console.log('parsed',detail.value.length,'quads')\n  parseError.value = ''\n  emit('updateView', detail.value)\n}\n\nconst prefixes = ref({\n  view:'https://cube.link/view/',\n  purl:'http://purl.org/dc/terms/',\n  schema:'http://schema.org/',\n  cube:'https://cube.link/',\n  rdf:'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n  shacl:'http://www.w3.org/ns/shacl#'\n})\n\n</script>\n\n<template>\n\n  <div class=\"edit-box-container\">\n\n    <div v-if=\"parseError\">\n      {{ parseError }}\n    </div>\n\n    <rdf-editor ref=\"editor\"\n                :customPrefixes=\"prefixes\"\n                :format=\"format\"\n                :quads=\"quads\"\n                auto-parse\n                parseDelay=\"1000\"\n                @quads-changed=\"onQuadsChanged\"\n                @parsing-failed=\"onParsingFailed\"\n    />\n\n  </div>\n\n</template>\n<style scoped>\n\n.edit-box-container {\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n  min-width: 400px;\n}\n</style>\n","import script from \"./Editbox.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Editbox.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Editbox.vue?vue&type=style&index=0&id=1b573aca&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b573aca\"]])\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport '@rdfjs-elements/rdf-editor'\nimport rdf from 'rdf-ext'\nimport { cubeDimensionsWithFallBack } from '../common/cubeDimensions.js'\nimport { computed, defineEmits, defineProps, onMounted, ref } from 'vue'\nimport { View } from 'rdf-cube-view-query'\n\nimport { getBoundedViewPointer } from '../common/debug.js'\nimport Editbox from './Editbox.vue'\n\nconst emit = defineEmits(['updateDataset'])\n\nconst props = defineProps({\n  initialState: {\n    default: 1,\n    type: Number\n  },\n  debugView: {\n    type: View,\n    required: true\n  }\n})\n\nconst CURRENT_VIEW = 1\nconst ALL = 2\nconst IMPORT_QUADS = 3\nconst OTHERS = 4\n\nconst editBoxQuads = ref([])\n\nasync function updateEditBoxQuads (contents) {\n  editBoxQuads.value = contents\n}\n\nasync function loadViewFromData () {\n  const dataset = rdf.dataset()\n  dataset.addAll(editBoxQuads.value)\n  emit('updateDataset', { dataset })\n}\n\nasync function roundTrip () {\n  const dataset = getBoundedViewPointer(props.debugView).dataset\n  emit('updateDataset', { dataset })\n}\n\nconst state = ref()\n\nonMounted(() => {\n  state.value = props.initialState\n})\n\nconst viewBoxQuads = computed(() => {\n  return [...getBoundedViewPointer(props.debugView).dataset]\n})\n\nconst allQuads = computed(() => {\n  return [...props.debugView.ptr.dataset]\n})\n\nconst viewInfo = computed(() => {\n\n  const result = []\n  for (const dimension of props.debugView.dimensions) {\n    result.push({\n      viewDimensionTerm: dimension.ptr.term.value,\n      cubeDimensionsTerms: cubeDimensionsWithFallBack({ dimension }).map(x => x.path.value),\n      cubesTerms: dimension.cubes.map(x => x.value)\n    })\n  }\n\n  return result\n})\n\nconst sources = computed(() => {\n  return {\n    endpoints:props.debugView.sources().map(x => x.endpoint),\n  }\n})\n\n\n</script>\n\n<template>\n\n  <div class=\"container\">\n    <div class=\"menu\">\n      <button\n        :class=\" state===CURRENT_VIEW?'menu-item-selected':'menu-item'\"\n        @click=\"state=CURRENT_VIEW\"\n      >\n        Current view\n      </button>\n      <button\n        :class=\" state===ALL?'menu-item-selected':'menu-item'\"\n        @click=\"state=ALL\"\n      >\n        All\n      </button>\n      <button\n        :class=\" state===IMPORT_QUADS?'menu-item-selected':'menu-item'\"\n        @click=\"state=IMPORT_QUADS\"\n      >\n        Import\n      </button>\n      <button\n        :class=\" state===OTHERS?'menu-item-selected':'menu-item'\"\n        @click=\"state=OTHERS\"\n      >\n        Info\n      </button>\n    </div>\n    <div class=\"main\">\n      <div class=\"controls\">\n\n        <template\n          v-if=\"state===CURRENT_VIEW\"\n        >\n          <div class=\"gloss\">\n            {{ viewBoxQuads.length }} quads for this view\n          </div>\n        </template>\n\n        <template\n          v-if=\"state===IMPORT_QUADS\"\n        >\n          <div class=\"gloss\"\n               v-if=\"!editBoxQuads.length\">\n            Paste some turtle to import it\n          </div>\n          <button\n            v-else\n            @click=\"loadViewFromData\"\n            class=\" bg-transparent hover:bg-gray-500 text-gray-700 font-semibold hover:text-white py-2 px-4 border border-gray-500 hover:border-transparent rounded\">\n            Import {{ editBoxQuads.length }} Quads\n          </button>\n        </template>\n\n        <template\n          v-if=\"state===ALL\"\n        >\n          <div class=\"gloss\">\n            {{ allQuads.length }} quads in memory\n          </div>\n        </template>\n\n        <template\n          v-if=\"state===OTHERS\"\n        >\n\n          <div class=\"gloss\">\n            Current view\n          </div>\n          <div>\n            <table>\n              <tr>\n                <th>View dimension</th>\n                <th>Cube dimensions</th>\n                <th>Cubes</th>\n              </tr>\n              <tr v-for=\"{viewDimensionTerm,cubeDimensionsTerms,cubesTerms} of viewInfo\">\n                <td>{{ viewDimensionTerm }}</td>\n                <td>{{ cubeDimensionsTerms }}</td>\n                <td>{{ cubesTerms }}</td>\n              </tr>\n            </table>\n          </div>\n          <div class=\"gloss\">\n            Sources\n          </div>\n          <div>\n            {{sources}}\n          </div>\n          <div class=\"gloss\"\n               v-if=\"!editBoxQuads.length\">\n            Export and import the current view\n          </div>\n          <button\n            @click=\"roundTrip\"\n            class=\" bg-transparent hover:bg-gray-500 text-gray-700 font-semibold hover:text-white py-2 px-4 border border-gray-500 hover:border-transparent rounded\">\n            round trip\n          </button>\n        </template>\n\n\n      </div>\n      <div class=\"content\">\n        <Editbox\n          v-if=\"state===CURRENT_VIEW\"\n          format=\"text/turtle\"\n          :quads=\"viewBoxQuads\"/>\n\n        <Editbox\n          v-if=\"state===IMPORT_QUADS\"\n          title=\"Import\"\n          format=\"text/turtle\"\n          @updateView=\"updateEditBoxQuads\"\n        />\n        <Editbox\n          v-if=\"state===ALL\"\n          format=\"text/turtle\"\n          :quads=\"allQuads\"\n        />\n      </div>\n    </div>\n  </div>\n\n\n</template>\n\n<style scoped>\n\n\n.container {\n  display: flex;\n  flex-direction: row;\n}\n\n.menu {\n  display: flex;\n  flex-direction: column;\n  min-width: 100px;\n}\n\n.menu-item {\n  height: 50px;\n  border: darkgray solid 1px;\n}\n\n.menu-item-selected {\n  height: 50px;\n  border: black solid 2px;\n}\n\n.main {\n  background-color: rgb(243, 244, 246);\n  display: flex;\n  flex-direction: column;\n}\n\n.controls {\n  margin-top: 10px;\n  flex: 1;\n  gap: 10px;\n  margin-left: 20px;\n  margin-bottom: 10px;\n}\n\n.gloss {\n  /*align-self: center;*/\n\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.content {\n  align-self: center;\n  flex: 5\n}\n\n.clickable {\n  cursor: pointer;\n}\n</style>\n","import script from \"./DebugBox.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DebugBox.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DebugBox.vue?vue&type=style&index=0&id=7d91aa26&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7d91aa26\"]])\n\nexport default __exports__","<template>\n  <span v-if=\"dataKind.term\" :title=\"label\" class=\"tag bg-primary-200\">\n    <component :is=\"icon\" class=\"h-5 w-5\" />\n  </span>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { ClockIcon, LocationMarkerIcon, MapIcon, QuestionMarkCircleIcon } from '@heroicons/vue/outline'\nimport * as ns from '../namespace'\n\nconst labels = {\n  [ns.time.GeneralDateTimeDescription.value]: 'Time description',\n  [ns.schema.GeoCoordinates.value]: 'Geographic coordinates',\n  [ns.schema.GeoShape.value]: 'Geographic shape',\n}\n\nconst icons = {\n  [ns.time.GeneralDateTimeDescription.value]: ClockIcon,\n  [ns.schema.GeoCoordinates.value]: LocationMarkerIcon,\n  [ns.schema.GeoShape.value]: MapIcon,\n}\n\nexport default defineComponent({\n  name: 'ScaleOfMeasureIcon',\n  props: {\n    dataKind: {\n      required: true,\n    },\n  },\n\n  computed: {\n    dataKindType () {\n      return this.dataKind.out(ns.rdf.type).term\n    },\n\n    label () {\n      return labels[this.dataKindType.value] || this.dataKind.term.value\n    },\n\n    icon () {\n      return icons[this.dataKindType.value] || QuestionMarkCircleIcon\n    },\n  },\n})\n</script>\n","import { render } from \"./DataKindIcon.vue?vue&type=template&id=ff9358be\"\nimport script from \"./DataKindIcon.vue?vue&type=script&lang=js\"\nexport * from \"./DataKindIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { Term } from '@rdfjs/data-model'\nimport RDF from 'rdf-ext'\nimport { defineProps } from 'vue'\n\nconst emit = defineEmits(['update:modelValue'])\nconst props = defineProps({\n  modelValue: {\n    type: Term,\n    required: false\n  },\n  datatype: {\n    type: Term,\n    required: false\n  }\n})\n\nfunction update (event) {\n  const textValue = event.target.value\n  const value = textValue\n    ? RDF.literal(textValue, props.datatype)\n    : null\n\n  emit('update:modelValue', value)\n\n}\n</script>\n\n<template>\n  <input type=\"text\" :value=\"modelValue?.value\" @change=\"update\"/>\n</template>\n","import script from \"./TermInput.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TermInput.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./SelectBoxMultiple.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SelectBoxMultiple.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { computed, defineEmits, defineProps, onMounted, ref } from 'vue'\nimport { operations } from '../model/operation.js'\nimport useLangStore from '../stores/langStore.js'\nimport SelectBox from './SelectBox.vue'\nimport TermInput from './TermInput.vue'\nimport SelectBoxMultiple from './SelectBoxMultiple.vue'\n\nimport TermDisplay from './TermDisplay.vue'\n\nconst emit = defineEmits(['updateFilter'])\n\nconst props = defineProps({\n  dimension: {\n    type: Object,\n    required: true\n  },\n  viewDimension: {\n    type: Object,\n    required: true\n  },\n  filterWrapper: {\n    type: Object,\n    required: true\n  }\n})\n\nconst langStore = useLangStore()\nconst {\n  getDisplayTerm\n} = langStore\n\nconst validOperations = ref([])\nconst currentOperation = ref()\nconst args = ref([])\nconst exceptionLabel = ref()\n\nfunction updateOperation (operation) {\n  currentOperation.value = operation\n  args.value = []\n}\n\nfunction updateArg ({ term }) {\n  args.value = [term]\n  currentArg.value = term\n  tryUpdate()\n}\n\nfunction updateArgs ({ terms }) {\n  args.value = terms\n  tryUpdate()\n}\n\nfunction tryUpdate () {\n  if ((args.value.length) && currentOperation.value) {\n    emit('updateFilter', {\n      dimension: props.viewDimension,\n      operation: currentOperation.value.term,\n      args: args.value\n    })\n  }\n}\n\nonMounted(() => {\n\n  validOperations.value = operations.filter(x => x.onlyLiterals ? !isNamed.value : true)\n  const {\n    filter,\n    readOnly\n  } = props.filterWrapper\n\n  if (readOnly) {\n    exceptionLabel.value = readOnly // Used to handle the cases we haven't seen yet\n  } else if (filter) {\n    currentOperation.value = operations.find(x => x.term.equals(filter.operation))\n    args.value = filter.args\n  }\n})\n\nconst isNamed = computed(() => props.dimension.in && props.dimension.in.length > 0)\n\nconst currentArg = ref()\n</script>\n\n<template>\n  <fieldset class=\"flex items-center gap-2\">\n    <template v-if=\"filterWrapper.readOnly\">{{ exceptionLabel }}</template>\n    <template v-else>\n\n      <SelectBox :modelValue=\"currentOperation\" @update:modelValue=\"updateOperation\" :options=\"validOperations\">\n        <template v-slot:button=\"{ selected }\">\n          <span v-if=\"selected\" :term=\"selected.term\">{{ selected.label }}</span>\n          <span v-else class=\"text-gray-500\">Operation</span>\n        </template>\n      </SelectBox>\n\n      <template v-if=\"currentOperation\">\n        <!--        MULTIPLE_NAMED-->\n        <template v-if=\"isNamed && currentOperation.multipleValues\">\n          <SelectBoxMultiple :modelValue=\"args\"\n                             @update:modelValue=\"(terms)=>updateArgs({terms})\"\n                             :options=\"dimension.in\">\n            <template v-slot:button=\"{ selected }\">\n              <template v-if=\"selected\">\n                <span v-if=\"selected.length===0\" class=\"text-gray-500\">select</span>\n                <term-display v-else-if=\"selected.length===1\" :term=\"getDisplayTerm(selected[0])\"/>\n                <span v-else class=\"text-gray-500\">({{ selected.length }}) items</span>\n              </template>\n              <span v-else class=\"text-gray-500\">Value</span>\n            </template>\n            <template v-slot:option=\"{ option }\">\n              <term-display :term=\"getDisplayTerm(option)\"/>\n            </template>\n          </SelectBoxMultiple>\n        </template>\n        <template v-else-if=\"isNamed && !currentOperation.multipleValues\">\n          <!--          SINGLE_NAMED-->\n          <SelectBox :modelValue=\"currentArg\"\n                     @update:modelValue=\"(currentArg)=>updateArg({term:currentArg})\"\n                     :options=\"dimension.in\">\n            <template v-slot:button=\"{ selected }\">\n              <term-display v-if=\"selected\" :term=\"getDisplayTerm(selected)\"/>\n              <span v-else class=\"text-gray-500\">Value</span>\n            </template>\n            <template v-slot:option=\"{ option }\">\n              <term-display :term=\"getDisplayTerm(option)\"/>\n            </template>\n          </SelectBox>\n        </template>\n        <template v-if=\"!isNamed\">\n          <term-input\n            placeholder=\"Value\"\n            :modelValue=\"currentArg\"\n            @update:modelValue=\"(currentArg)=>updateArg({term:currentArg})\"\n            :datatype=\"dimension.datatype\"\n          />\n        </template>\n      </template>\n\n    </template>\n  </fieldset>\n</template>\n","import script from \"./DimensionFilter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DimensionFilter.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { PlusIcon } from '@heroicons/vue/solid'\nimport { defineProps, onMounted, ref } from 'vue'\nimport useLangStore from '../stores/langStore.js'\nimport useViewStore from '../stores/viewStore.js'\nimport DimensionFilter from './DimensionFilter.vue'\n\nconst emit = defineEmits(['close', 'updateFilters'])\n\nconst props = defineProps({\n  dimension: {\n    type: Object,\n    required: true\n  },\n  viewDimension: {\n    type: Object,\n    required: true\n  }\n})\n\nconst viewStore = useViewStore()\nconst {\n  filtersOfDimension,\n  updateDimensionFilters,\n} = viewStore\nconst langStore = useLangStore()\n\nconst filters = ref([])\n\nonMounted(() => {\n  // Could be functional, but like this is clearer\n  const data = []\n  for (const filter of filtersOfDimension(props.viewDimension)) {\n    const {\n      dimension,\n      operation,\n      args,\n      argsList\n    } = filter\n\n    if (argsList) {\n      // This corresponds to a list of arguments (never seen a case)\n      data.push({\n        filter:{dimension,operation,argsList},\n        readOnly: langStore.getFilterLabel({ operation, args, argsList })\n      })\n    } else {\n      // This corresponds to a set of arguments\n      data.push({\n        filter:{dimension,operation,args},\n      })\n    }\n  }\n  filters.value = data\n})\n\nfunction submit () {\n  const dimensionFilters = filters.value.filter(x => !x.filterPlaceholder).map(x => x.filter)\n  try {\n    updateDimensionFilters(props.viewDimension, dimensionFilters)\n    emit('updateFilters')\n  } catch (error) {\n    console.log(error)\n  }\n  emit('close')\n}\n\nfunction addFilter () {\n  filters.value.push({\n    filterPlaceholder: true\n  })\n}\n\nfunction updateFilter({ index, filter }){\n  filters.value[index]= { filter }\n}\n\n</script>\n\n<template>\n  <form @submit.prevent=\"submit\" class=\"\">\n    <div class=\"mb-4 flex flex-col gap-2\">\n      <dimension-filter\n        v-for=\"(current, index) in filters\"\n        :key=\"index\"\n        :dimension=\"dimension\"\n        :viewDimension=\"viewDimension\"\n        :filterWrapper=\"current\"\n        @updateFilter=\"(filter)=>updateFilter({index, filter})\"\n      />\n      <button type=\"button\" @click=\"addFilter\" class=\"button-text justify-end\">\n        <plus-icon class=\"w-5 h-5\" />\n        Add filter\n      </button>\n    </div>\n    <button type=\"submit\" class=\"button-primary self-end\">\n      Apply filters\n    </button>\n  </form>\n</template>\n","import script from \"./DimensionFilters.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DimensionFilters.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"flex-grow flex items-center justify-end\">\n    <button @click=\"isOpen = true\" title=\"Dimension Metadata\">\n      <information-circle-icon class=\"text-gray-500 w-5 h-5\"/>\n    </button>\n    <resource-details-dialog\n      :title=\"metadataTitle\"\n      :pointer=\"this.dimension.ptr\"\n      :is-open=\"isOpen\"\n      @close=\"isOpen = false\"\n    />\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport { defineComponent } from 'vue'\nimport { InformationCircleIcon } from '@heroicons/vue/outline'\nimport ResourceDetailsDialog from './ResourceDetailsDialog.vue'\n\nexport default defineComponent({\n  name: 'DimensionMetadata',\n  components: {\n    InformationCircleIcon,\n    ResourceDetailsDialog\n  },\n  props: {\n    dimension: {\n      type: Object,\n      required: true\n    },\n    metadataTitle: {\n      type: String,\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      isOpen: false\n    }\n  }\n})\n</script>\n","import { render } from \"./DimensionMetadata.vue?vue&type=template&id=ac9e9f68\"\nimport script from \"./DimensionMetadata.vue?vue&type=script&lang=js\"\nexport * from \"./DimensionMetadata.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <span v-if=\"scaleOfMeasure.term\" :title=\"label\" class=\"tag bg-primary-200\">\n    <component :is=\"icon\" class=\"h-5 w-5\" />\n  </span>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { PresentationChartLineIcon, QuestionMarkCircleIcon, ScaleIcon, ViewListIcon } from '@heroicons/vue/outline'\nimport { ViewGridIcon } from '@heroicons/vue/solid'\nimport * as ns from '../namespace'\n\nconst icons = {\n  [ns.qudt.NominalScale.value]: ViewGridIcon,\n  [ns.qudt.OrdinalScale.value]: ViewListIcon,\n  [ns.qudt.IntervalScale.value]: PresentationChartLineIcon,\n  [ns.qudt.RatioScale.value]: ScaleIcon,\n}\n\nexport default defineComponent({\n  name: 'ScaleOfMeasureIcon',\n  props: {\n    scaleOfMeasure: {\n      required: true,\n    },\n  },\n\n  computed: {\n    label () {\n      return this.scaleOfMeasure?.value.split('/').slice(-1)[0] ?? ''\n    },\n\n    icon () {\n      const scaleOfMeasure = this.scaleOfMeasure?.value ?? ''\n\n      return icons[scaleOfMeasure] || QuestionMarkCircleIcon\n    },\n  },\n})\n</script>\n","import { render } from \"./ScaleTypeIcon.vue?vue&type=template&id=6ccfb524\"\nimport script from \"./ScaleTypeIcon.vue?vue&type=script&lang=js\"\nexport * from \"./ScaleTypeIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { Popover, PopoverButton, PopoverPanel } from '@headlessui/vue'\nimport { AnnotationIcon, FilterIcon } from '@heroicons/vue/outline'\nimport { ChevronDownIcon, ChevronUpIcon, LinkIcon } from '@heroicons/vue/solid'\nimport { Term } from '@rdfjs/data-model'\nimport { computed, defineEmits, defineProps } from 'vue'\nimport * as ns from '../namespace'\nimport useViewStore from '../stores/viewStore.js'\nimport useLangStore from '../stores/langStore.js'\nimport DataKindIcon from './DataKindIcon.vue'\nimport DimensionFilters from './DimensionFilters.vue'\nimport DimensionMetadata from './DimensionMetadata.vue'\nimport ScaleTypeIcon from './ScaleTypeIcon.vue'\n\nconst emit = defineEmits(['updateSort', 'updateFilters'])\n\nconst props = defineProps({\n  dimension: {\n    type: Object,\n    required: true\n  },\n  viewDimension: {\n    type: Object,\n    required: true\n  },\n  label: {\n    type: Object\n  },\n  sortDimension: {\n    type: Object,\n    default: null\n  },\n  sortDirection: {\n    type: Term,\n    required: true\n  }\n})\n\nconst langStore = useLangStore()\n\nconst viewStore = useViewStore()\nconst {\n  filtersOfDimension\n} = viewStore\n\nconst description = computed(() => props.dimension.ptr.out(ns.schema.comment, { language: langStore.language }).value)\nconst property = computed(() => props.dimension.ptr.out(ns.sh.path).value)\nconst isMeasure = computed(() => !!props.dimension.ptr.has(ns.rdf.type, ns.cube.MeasureDimension).term)\nconst isKey = computed(() => !!props.dimension.ptr.has(ns.rdf.type, ns.cube.KeyDimension).term)\nconst isShared = computed(() => !!props.dimension.ptr.has(ns.rdf.type, ns.cube.SharedDimension).term)\nconst dataKind = computed(() => props.dimension.ptr.out(ns.meta.dataKind))\nconst scaleType = computed(() => props.dimension.ptr.out(ns.qudt.scaleType))\nconst isSortDimension = computed(() => props.sortDimension && props.dimension.path.equals(props.sortDimension.path))\nconst isSortAscending = computed(() => ns.view.Ascending.equals(props.sortDirection))\nconst isSortDescending = computed(() => ns.view.Descending.equals(props.sortDirection))\n\nfunction updateSort () {\n  const direction = isSortDimension ? toggleDirection(props.sortDirection) : ns.view.Ascending\n  emit('updateSort', props.dimension, direction)\n}\n\nfunction toggleDirection (direction) {\n  if (ns.view.Ascending.equals(direction)) {\n    return ns.view.Descending\n  } else {\n    return ns.view.Ascending\n  }\n}\n\nconst metadataTitle = computed(() => {\n  const dimensionIdentifier = props.viewDimension.ptr.out(ns.schema.identifier).value\n  if (dimensionIdentifier) {\n    return `Metadata for ${dimensionIdentifier}`\n  } else {\n    return 'Dimension metadata'\n  }\n})\n\n\n</script>\n\n<template>\n  <div class=\"h-full px-2 py-1 flex flex-col justify-between\" :class=\"{'bg-primary-50': isMeasure}\">\n    <div class=\"mb-2 flex items-center justify-between\">\n      <button\n        class=\"flex items-start text-left leading-tight\"\n        :class=\"{'font-semibold': (isMeasure || isKey), 'underline': isSortDimension}\"\n        :title=\"property\"\n        @click=\"updateSort\"\n      >\n        <template v-if=\"label\">\n          <span class=\"text-gray-500\" v-if=\"label.joined\"><i>{{ label.value }}</i></span>\n          <span v-else>{{ label.value }}</span>\n        </template>\n\n        <span v-else class=\"text-gray-500\">Untitled</span>\n        <span v-if=\"isSortDimension\" class=\"pt-1\">\n          <chevron-down-icon v-if=\"isSortAscending\" class=\"w-5 h-5\"/>\n          <chevron-up-icon v-if=\"isSortDescending\" class=\"w-5 h-5\"/>\n        </span>\n      </button>\n      <popover class=\"relative\">\n        <popover-button as=\"button\">\n          <filter-icon class=\"w-5 h-5\" :class=\"{ 'text-primary-500': filtersOfDimension(viewDimension).length > 0 }\"/>\n        </popover-button>\n        <popover-panel v-slot=\"{ close }\" class=\"z-10 absolute bg-white border rounded shadow-md p-2\">\n          <dimension-filters\n            :dimension=\"dimension\"\n            :view-dimension=\"viewDimension\"\n            @close=\"()=>close()\"\n            @updateFilters=\"emit('updateFilters')\"\n          />\n        </popover-panel>\n      </popover>\n    </div>\n    <div class=\"flex items-center gap-1\">\n      <scale-type-icon :scale-of-measure=\"scaleType\"/>\n      <data-kind-icon :data-kind=\"dataKind\"/>\n      <span v-if=\"description\" class=\"tag\" :title=\"description\">\n        <annotation-icon class=\"w-5 h-5\"/>\n      </span>\n      <span v-if=\"isShared\" class=\"tag\" title=\"Linked to shared dimension\">\n        <link-icon class=\"w-5 h-5\"/>\n      </span>\n      <dimension-metadata :metadata-title=\"metadataTitle\" :dimension=\"dimension\"/>\n    </div>\n  </div>\n</template>\n","import script from \"./DimensionHeader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DimensionHeader.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* eslint-disable */\n<template>\n  <div class=\"flex items-center gap-8\">\n    <div class=\"flex items-center gap-1\">\n      <button @click=\"updatePage(1)\" title=\"First page\" class=\"button px-2\" :disabled=\"page === 1\">\n        <chevron-double-left-icon class=\"w-6 h-6\" />\n      </button>\n      <button @click=\"updatePage(page - 1)\" title=\"Previous page\" class=\"button px-2\" :disabled=\"page === 1\">\n        <chevron-left-icon class=\"w-6 h-6\" />\n      </button>\n\n      <span>Page </span>\n      <input type=\"text\" inputmode=\"numeric\" :value=\"page\" @change=\"updatePage($event.target.value)\" class=\"w-14 text-right\" />\n      <span> of </span>\n      <loading-icon v-if=\"itemsCount.isLoading\" />\n      <span v-else-if=\"itemsCount.error\" class=\"text-red-500\" :title=\"itemsCount.error\">\n        <exclamation-circle-icon class=\"w-5 h-5\" />\n      </span>\n      <span v-else>{{ pagesCount }}</span>\n      <button @click=\"updatePage(page + 1)\" title=\"Next page\" class=\"button px-2\" :disabled=\"!pagesCount || page >= pagesCount\">\n        <chevron-right-icon class=\"w-6 h-6\" />\n      </button>\n      <button @click=\"updatePage(pagesCount)\" title=\"Last page\" class=\"button px-2\" :disabled=\"!pagesCount || page >= pagesCount\">\n        <chevron-double-right-icon class=\"w-6 h-6\" />\n      </button>\n    </div>\n\n    <select :value=\"pageSize\" @change=\"$emit('update:pageSize', Number($event.target.value))\" title=\"Items per page\">\n      <option v-for=\"option in pageSizes\" :key=\"option\">{{ option }}</option>\n    </select>\n  </div>\n</template>\n\n<script>\nimport { computed, defineComponent, toRefs } from 'vue'\nimport { ChevronDoubleLeftIcon, ChevronDoubleRightIcon, ChevronLeftIcon, ChevronRightIcon } from '@heroicons/vue/solid'\nimport { ExclamationCircleIcon } from '@heroicons/vue/outline'\nimport LoadingIcon from './icons/LoadingIcon.vue'\nimport { DEFAULT_PAGE_SIZE } from './common/projection.js'\n\nconst pageSizes = ['10', '20', '50', '100']\n\nexport default defineComponent({\n  name: 'PaginationMenu',\n  components: { ChevronDoubleLeftIcon, ChevronDoubleRightIcon, ChevronLeftIcon, ChevronRightIcon, ExclamationCircleIcon, LoadingIcon },\n  props: {\n    page: {\n      type: Number,\n      default: 0,\n    },\n    pageSize: {\n      type: Number,\n      default: DEFAULT_PAGE_SIZE,\n    },\n    itemsCount: {\n      // type: Remote<Number>,\n      type: Object,\n      required: true,\n    },\n  },\n  emits: ['update:page', 'update:pageSize'],\n\n  setup (props) {\n    const { itemsCount, pageSize } = toRefs(props)\n\n    const pagesCount = computed(() => {\n      if (itemsCount.value.isLoading || itemsCount.value.error) return null\n\n      return Math.ceil(itemsCount.value.data / pageSize.value)\n    })\n\n    return {\n      pagesCount,\n      pageSizes,\n    }\n  },\n\n  methods: {\n    updatePage (number) {\n      const page = Number(number)\n\n      if (!isNaN(page)) {\n        this.$emit('update:page', page)\n      }\n    },\n  },\n})\n</script>\n","import { render } from \"./PaginationMenu.vue?vue&type=template&id=6377f1a5\"\nimport script from \"./PaginationMenu.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationMenu.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable */\n\nimport rdf from 'rdf-ext'\n\nexport const viewNs = rdf.namespace('https://cube.link/view/')\nexport const schemaNs = rdf.namespace('http://schema.org/')\n\nfunction getLabel (ptr, { language }) {\n  return ptr.out(schemaNs.name, { language })\n}\n\nfunction getColumnHeaderLabel ({\n  dimension,\n  viewDimension,\n  view\n}, { language }) {\n  const label = getLabel(dimension.ptr, { language })\n  if (label.value) {\n    return { value: label.value }\n  }\n  // If there is no label defined in the constraint, try to get it from the target\n  const joinDimension = viewDimension.ptr.out(viewNs.from).out(viewNs.join).term\n  if (joinDimension) {\n    const targetDimension = view.dimensions.find(x => x.term.equals(joinDimension))\n    const cubeDimensions = targetDimension.cubeDimensions\n    if (cubeDimensions.length) {\n      const joinLabel = getLabel(cubeDimensions[0].ptr, { language })\n      return {\n        value: joinLabel.value,\n        joined: cubeDimensions[0].ptr.term\n      }\n    }\n  }\n}\n\nexport { getColumnHeaderLabel }\n","<script setup>\n/* eslint-disable */\nimport { XCircleIcon } from '@heroicons/vue/outline'\nimport { storeToRefs } from 'pinia'\nimport queue from 'promise-the-world/queue.js'\nimport { computed, defineEmits, defineProps, onMounted, ref, shallowRef, watch } from 'vue'\nimport * as ns from '../namespace'\nimport * as Remote from '../remote'\nimport useLangStore, { observationsTermsWithNoLabel, shaclTermsWithNoLabel } from '../stores/langStore.js'\nimport useViewStore from '../stores/viewStore.js'\nimport { getBoundedViewPointer } from './common/debug.js'\nimport { getEffectiveDimensions } from './common/labelFor.js'\nimport { projectionFromView, updateViewProjection } from './common/projection.js'\nimport DebugBox from './debug/DebugBox.vue'\nimport DimensionHeader from './DimensionHeader.vue'\nimport LoadingIcon from './icons/LoadingIcon.vue'\nimport ObservationValue from './ObservationValue.vue'\nimport PaginationMenu from './PaginationMenu.vue'\nimport { getColumnHeaderLabel } from './common/columnHeaders.js'\n\nconst emit = defineEmits(['updateDataset'])\n\nconst props = defineProps({\n  view: {\n    type: Object,\n    required: true\n  }\n})\n\nconst debugOpen = ref(false)\nconst refreshCounter = ref(1)\n\nconst queryQueue = queue(1)\n\nconst viewStore = useViewStore()\nconst {\n  currentView\n} = storeToRefs(viewStore)\n\nconst langStore = useLangStore()\nconst {\n  setPointers\n} = langStore\n\nconst {\n  language,\n  pointer\n} = storeToRefs(langStore)\n\nasync function initView (view) {\n  setPointers(view)\n  initProjection(view)\n  buildFiltersSummary()\n\n  // @TODO move label fetchers to Web workers\n\n  // First the observations and the labels on screen\n  await fetchObservationsAndLabels(view)\n  // Later all labels from shacl, to be used in filters\n  fetchShaclLabels(view)\n}\n\nonMounted(() => {\n  currentView.value = props.view\n  initView(props.view)\n})\n\ndefineExpose({\n  currentView\n})\n\nwatch(() => props.view, () => initView(props.view))\n\n/**\n * Observation values\n */\n\nconst observations = ref(Remote.loading())\nconst observationCount = ref(Remote.loading())\n\n// Used when projection changes\nconst updateObservations = async () => {\n  if (currentView.value) {\n    let v = updateViewProjection({\n      view: currentView.value,\n      projection: {\n        page: page.value,\n        pageSize: pageSize.value,\n        sortDimension: sortDimension.value,\n        sortDirection: sortDirection.value\n      }\n    })\n    await fetchObservationsAndLabels(v)\n  }\n}\n\nconst fetchObservations = async (view) => {\n  observations.value = Remote.loading()\n  if (!view) return\n  await queryQueue.add(async () => {\n    try {\n      observations.value = await Remote.fetch(view.observations.bind(view))\n    } catch (error) {\n      console.log(error)\n      console.log('view that produced the error')\n      console.log(getBoundedViewPointer(view).dataset.toString())\n    }\n  })\n  await queryQueue.add(async () => {\n    observationCount.value = await Remote.fetch(view.observationCount.bind(view))\n  })\n}\n\nfunction refreshObservations () {\n  // Dirty hack since the view it's a shallow ref\n  // It's to update the observations component and show the labels when they arrive\n  refreshCounter.value = refreshCounter.value + 1\n}\n\n/**\n * Projections\n */\n\nconst page = ref()\nconst pageSize = ref()\nconst sortDimension = shallowRef()\nconst sortDirection = shallowRef()\n\nfunction initProjection (view) {\n  // Get all the controls from the view\n  const projection = projectionFromView(view)\n  page.value = projection.page\n  pageSize.value = projection.pageSize\n  sortDimension.value = projection.sortDimension\n  sortDirection.value = projection.sortDirection\n}\n\nfunction updatePage (pageArg) {\n  page.value = pageArg\n  updateObservations()\n}\n\nfunction updatePageSize (pageSizeArg) {\n  pageSize.value = pageSizeArg\n  updateObservations()\n}\n\nfunction updateSort (dimension, direction) {\n  sortDimension.value = dimension\n  sortDirection.value = direction\n  page.value = 1\n  updateObservations()\n}\n\n/**\n * labels\n */\n\nasync function fetchShaclLabels (view) {\n  const terms = [...shaclTermsWithNoLabel(view, view.ptr)]\n  const chunkSize = 50\n  while (terms.length) {\n    const chunk = terms.splice(0, chunkSize)\n    populateLabels(view, chunk, (view) => {\n      console.log('fetch shacl labels end')\n    })\n  }\n}\n\nasync function populateLabels (view, terms, callback) {\n  const source = view.getMainSource()\n  const uris = terms.map(x => `<${x.value}> `).join(' ')\n\n  if (terms.length){\n    await queryQueue.add(async () => {\n      console.log(`Fetching labels for ${terms.length} entities`)\n      const result = await source.client.query.construct(`\nCONSTRUCT {\n      ?uri <http://schema.org/name> ?label .\n    } where {\n      ?uri <http://schema.org/name> ?label\n      VALUES ?uri { ${uris} }\n}`)\n      view.dataset.addAll(result)\n      callback(view)\n    })\n  }\n}\n\nasync function fetchObservationsAndLabels (view) {\n  await fetchObservations(view)\n  currentView.value = view\n  fetchObservationsLabels(view)\n}\n\nasync function fetchObservationsLabels (view) {\n  const terms = observationsTermsWithNoLabel({\n    observations: observations.value,\n    view\n  })\n  await populateLabels(view, [...terms], (view) => {\n    currentView.value = view\n    refreshObservations()\n    buildFiltersSummary()\n    console.log('fetch observations labels end')\n  })\n}\n\n/**\n * Filters\n */\n\nconst filtersSummary = ref([])\n\nfunction buildFiltersSummary () {\n  filtersSummary.value = currentView.value.filters.map((currElement) => {\n    const {\n      dimension,\n      operation,\n      arg,\n      args,\n      argsList\n    } = currElement\n\n    if (!dimension) {\n      throw Error('Filter requires dimension', currElement)\n    }\n\n    function getDimensionLabel (term) {\n      const label = currentView.value.ptr.node(term).out(ns.schema.name, { language: language.value })\n      return (label.value) ? label.value : langStore.getDisplayString(term.value)\n    }\n\n    const viewDimension = currentView.value.dimensions.find(x => x.term.equals(dimension))\n    if (viewDimension) {\n      const path = viewDimension.ptr.out(ns.view.from).out(ns.view.path).term\n      const dimensionLabel = getDimensionLabel(path)\n      const filterLabel = langStore.getFilterLabel({\n        operation,\n        arg,\n        args,\n        argsList\n      })\n      return {\n        filter: currElement,\n        label: `${dimensionLabel} ${filterLabel}`\n      }\n    }\n\n  }).filter(notNull => notNull)\n}\n\nfunction removeFilter ({\n  filter\n}) {\n  viewStore.removeFilter({ filter })\n  page.value = 1\n  buildFiltersSummary()\n  updateObservations()\n}\n\nfunction updateFilters () {\n  page.value = 1\n  buildFiltersSummary()\n  updateObservations()\n}\n\nfunction updateDataset (arg) {\n  emit('updateDataset', arg)\n}\n\n/**\n * Computed and helpers\n */\n\nfunction isNumericScale (dimension) {\n  const scaleType = dimension.ptr.out(ns.qudt.scaleType).term\n  return ns.qudt.RatioScale.equals(scaleType) || ns.qudt.IntervalScale.equals(scaleType)\n}\n\nfunction isMeasureDimension (dimension) {\n  return !!dimension.ptr.has(ns.rdf.type, ns.cube.MeasureDimension).term\n}\n\nconst dims = computed(() => getEffectiveDimensions({ view: currentView.value }))\n\n</script>\n\n<template>\n\n  <div>\n    <template v-if=\"dims\">\n      <!-- h-1 is a hack to make the header cells layout work -->\n      <table class=\"h-1\">\n        <thead>\n        <tr>\n          <th v-for=\"{viewDimension, cubeDimension} in dims\" :key=\"viewDimension.ptr.term.value\"\n              class=\"border border-b-2 align-top text-left h-full\">\n            <dimension-header\n              :dimension=\"cubeDimension\"\n              :label=\"getColumnHeaderLabel({dimension:cubeDimension,viewDimension:viewDimension,view:currentView},{language})\"\n              :view-dimension=\"viewDimension\"\n              :sort-dimension=\"sortDimension\"\n              :sort-direction=\"sortDirection\"\n              @updateSort=\"updateSort\"\n              @updateFilters=\"updateFilters\"\n            />\n          </th>\n        </tr>\n        <tr v-show=\"filtersSummary.length > 0\" :key=\"`${refreshCounter}/filtersSummary`\">\n          <td :colspan=\"dims.length\" class=\"border px-2 py-2\">\n            <div class=\"flex gap-2 justify-start\">\n              <span v-for=\"({filter, label}, index) in filtersSummary\" :key=\"index\"\n                    class=\"tag bg-gray-100 rounded-md flex items-center gap-1\">\n                <span>{{ label }}</span>\n                <button title=\"Remove filter\" @click=\"removeFilter({filter})\" class=\"button-text\">\n                  <x-circle-icon class=\"w-5 h-5\"/>\n                </button>\n              </span>\n            </div>\n          </td>\n        </tr>\n        </thead>\n        <tbody v-if=\"observations.isLoading\">\n        <tr v-for=\"i in Array(pageSize)\" :key=\"i\">\n          <td :colspan=\"dims.length\" class=\"border px-2 py-2\">\n            <loading-icon/>\n          </td>\n        </tr>\n        </tbody>\n        <tbody v-else-if=\"observations.error\">\n        <tr>\n          <td :colspan=\"dims.length\" class=\"border px-2 py-1\">\n            {{ observations.error }}\n          </td>\n        </tr>\n        </tbody>\n        <tbody v-else :key=\"`${refreshCounter}/observations`\">\n        <tr v-for=\"(observation, index) in observations.data\" :key=\"index\">\n          <td\n            v-for=\"{cubeDimension, labelCubePath, viewAs} in dims\"\n            :key=\"cubeDimension.ptr.term.value\"\n            class=\"border px-2 py-1 whitespace-nowrap\"\n            :class=\"{\n                'text-right tabular-nums': isNumericScale(cubeDimension),\n                'bg-primary-50': isMeasureDimension(cubeDimension),\n              }\"\n          >\n            <observation-value\n              :value=\"observation[viewAs.value]\"\n              :forceLabel=\"labelCubePath ? observation[labelCubePath.value]: undefined\"\n              :pointer=\"pointer\"\n              :language=\"language\"\n            />\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n      <pagination-menu\n        :page=\"page\"\n        :pageSize=\"pageSize\"\n        :items-count=\"observationCount\"\n        @update:page=\"updatePage\"\n        @update:pageSize=\"updatePageSize\"\n      />\n\n    </template>\n\n    <div>\n      <button class=\"flex items-start text-left leading-tight\"\n              @click=\"debugOpen=!debugOpen\">\n        <span class=\"text-gray-500 py-3\">toggle debug</span>\n      </button>\n      <DebugBox\n        :key=\"`${refreshCounter}/debug`\"\n        v-if=\"debugOpen===true\"\n        :debugView=\"currentView\"\n        @updateDataset=\"updateDataset\"\n      />\n    </div>\n  </div>\n</template>\n","import script from \"./TabularView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TabularView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { useAsyncState, useUrlSearchParams } from '@vueuse/core'\nimport { Source } from 'rdf-cube-view-query'\nimport { defineEmits, defineProps, onMounted, ref, watch, shallowRef} from 'vue'\nimport { getBoundedViewPointer } from './common/debug.js'\nimport { viewFromCubeUri, viewFromDataset, viewFromViewUri } from './common/viewLoaders.js'\nimport LoadingIcon from './icons/LoadingIcon.vue'\nimport MetadataHeader from './MetadataHeader.vue'\nimport ShareUrlButton from './ShareUrlButton.vue'\nimport TabularView from './TabularView.vue'\n\nconst DELAY = 0\n\nconst props = defineProps({\n  source: {\n    type: Source,\n    required: true\n  },\n  viewInput: {\n    type: Object\n  }\n})\n\nconst emit = defineEmits(['setViewInput'])\nconst view = shallowRef(null)\n\nonMounted(async () => {\n  await initFromProps()\n})\n\nasync function fetchView ({\n  source,\n  viewInput\n}) {\n  const {\n    cubeUri,\n    viewUri,\n    dataset\n  } = viewInput\n\n  if (!(cubeUri || viewUri || dataset)) {\n    throw Error(`No cubeUri, viewUri or dataset`)\n  }\n  if (cubeUri) {\n    return await viewFromCubeUri({\n      source,\n      cubeUri\n    })\n  } else if (viewUri) {\n    return await viewFromViewUri({\n      source,\n      viewUri\n    })\n  } else if (dataset) {\n    return await viewFromDataset({\n      dataset,\n      fallbackSource: source\n    })\n  }\n}\n\nconst {\n  isLoading: viewIsLoading,\n  state,\n  isReady: viewIsReady,\n  error: viewError,\n  execute\n} = useAsyncState(\n  async (args) => {\n    console.log('Fetching')\n    view.value = await fetchView(args)\n  },\n  {},\n  {\n    delay: DELAY,\n    resetOnExecute: false,\n    immediate: false\n  }\n)\n\nasync function initFromProps () {\n  await execute(DELAY, {\n    source: props.source,\n    viewInput: props.viewInput\n  })\n}\n\nwatch(() => props.viewInput, () => initFromProps())\nwatch(() => props.source, () => initFromProps())\n\nasync function updateDataset ({ dataset }) {\n  emit('setViewInput', { dataset })\n}\n\nconst tabularView = ref()\nconst shareButton = ref()\n\nconst params = useUrlSearchParams('hash-params')\n\nfunction prepareParams () {\n  if (tabularView.value) {\n    const currentView = tabularView.value.currentView\n    const dataset = getBoundedViewPointer(currentView).dataset\n    const datasetN3 = dataset.toString()\n    const endpointUrl = params.endpointUrl\n    const url = new URL(`${document.location.protocol}//${document.location.host}/#view=${encodeURIComponent(datasetN3)}&endpointUrl=${encodeURIComponent(endpointUrl)}`)\n    shareButton.value.copyURL(url)\n  }\n}\n\n</script>\n\n<template>\n  <div class=\"p-4\">\n    <div v-if=\"viewIsLoading\">\n      <loading-icon/>\n    </div>\n\n    <div v-if=\"viewError\" class=\"text-red-500\">\n      {{ viewError }}\n    </div>\n\n    <share-url-button\n      v-if=\"view\"\n      ref=\"shareButton\"\n      @prepareParams=\"prepareParams\"\n    />\n\n    <div class=\"flex flex-col gap-4\" v-if=\"viewIsReady\">\n      <header v-if=\"view\">\n        <template v-if=\"view.cubes\" v-for=\"cube in view.cubes()\">\n          <div>\n            <MetadataHeader :pointer=\"view.ptr.node(cube)\"></MetadataHeader>\n          </div>\n        </template>\n      </header>\n      <template v-if=\"view\">\n        <tabular-view\n          ref=\"tabularView\"\n          @updateDataset=\"updateDataset\"\n          :view=\"view\"/>\n      </template>\n\n    </div>\n  </div>\n</template>\n","import script from \"./Viewer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Viewer.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { useUrlSearchParams } from '@vueuse/core'\nimport { Parser } from 'n3'\nimport { Source } from 'rdf-cube-view-query'\nimport rdf from 'rdf-ext'\nimport { onMounted, ref } from 'vue'\nimport SourceConfig from './components/SourceConfig.vue'\nimport Viewer from './components/Viewer.vue'\n\nconst parser = new Parser()\nconst params = useUrlSearchParams('hash-params')\n\nconst source = ref(null)\nconst viewInput = ref()\nconst initError = ref()\n\nonMounted(() => {\n\n  // Tries to parse a view\n  let dataset = undefined\n  if (params.view) {\n    try {\n      const quads = parser.parse(params.view)\n      dataset = rdf.dataset().addAll(quads)\n    } catch (e) {\n      initError.value = e\n    }\n  }\n\n  if (params.endpointUrl) {\n    source.value = new Source({\n      endpointUrl: params.endpointUrl,\n      user: params.user,\n      password: params.password,\n      sourceGraph: params.sourceGraph\n    })\n  }\n\n  viewInput.value = onlyOne({\n    cubeUri: params.cubeUri,\n    viewUri: params.viewUri,\n    dataset\n  })\n})\n\n// Defines order also\nfunction onlyOne ({\n  cubeUri,\n  viewUri,\n  dataset\n}) {\n  if (dataset) {\n    return { dataset }\n  }\n  if (cubeUri) {\n    return { cubeUri }\n  }\n  if (viewUri) {\n    return { viewUri }\n  }\n  return {}\n}\n\nfunction inputParameterIsValid () {\n  return source.value && (viewInput.value.viewUri || viewInput.value.cubeUri || viewInput.value.dataset)\n}\n\nfunction updateSource(source){\n  params.endpointUrl = source.endpoint\n  params.user = source.user\n  console.log('updateSource',source)\n}\n\n// 'Hard' updates. Forces loading of labels.\nfunction setViewInput (value) {\n  // console.log('setViewInput',value)\n  setURLParams(value)\n  viewInput.value = value\n}\n\nfunction setURLParams (value) {\n  params.viewUri = value.viewUri ? value.viewUri : undefined\n  params.cubeUri = value.cubeUri ? value.cubeUri : undefined\n  params.view = value.dataset ? value.dataset.toString() : undefined\n}\n\n</script>\n\n<template>\n  <div class=\"w-full h-full p-4 flex flex-col gap-4\">\n    <h1 class=\"font-bold text text-gray-600 uppercase\">\n      Zazuko Cube Viewer\n    </h1>\n    <template v-if=\"initError\">\n      <div class=\"text-red-500\">\n        {{ initError }}\n      </div>\n    </template>\n    <template v-else>\n      <source-config\n        v-if=\"viewInput\"\n        :viewInput=\"viewInput\"\n        v-model:source=\"source\"\n        @setViewInput=\"setViewInput\"\n        @update:source=\"updateSource\"\n      />\n      <viewer\n        v-if=\"inputParameterIsValid()\"\n        :source=\"source\"\n        :viewInput=\"viewInput\"\n        @setViewInput=\"setViewInput\"\n        class=\"bg-white rounded shadow-lg overflow-x-auto\"\n      />\n    </template>\n  </div>\n</template>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './index.css'\nimport { createPinia } from 'pinia'\n\nconst app = createApp(App).use(createPinia())\n\napp.mount('#app')\n","/* eslint-disable */\nimport * as ns from '../namespace.js'\n\nconst operations = [\n  {\n    term: ns.view.Eq,\n    label: '='\n  },\n  {\n    term: ns.view.Ne,\n    label: '!=',\n    multipleValues: true\n  },\n  {\n    term: ns.view.In,\n    label: 'in',\n    multipleValues: true\n  },\n  {\n    term: ns.view.Lt,\n    label: '<',\n    onlyLiterals: true\n  },\n  {\n    term: ns.view.Lte,\n    label: '<=',\n    onlyLiterals: true\n  },\n  {\n    term: ns.view.Gt,\n    label: '>',\n    onlyLiterals: true\n  },\n  {\n    term: ns.view.Gte,\n    label: '>=',\n    onlyLiterals: true\n  }\n]\n\nfunction getOperationLabel (term) {\n  for (const current of operations) {\n    if (current.term.equals(term)) {\n      return current.label\n    }\n  }\n}\n\nexport {\n  operations,\n  getOperationLabel\n}\n","import prefixes from '@zazuko/rdf-vocabularies/prefixes'\nimport { shrink as _shrink } from '@zazuko/rdf-vocabularies/shrink'\nimport { expand as _expand } from '@zazuko/rdf-vocabularies/expand'\nimport RDF from 'rdf-ext'\n\nexport const cube = RDF.namespace('https://cube.link/')\nexport const meta = RDF.namespace('https://cube.link/meta/')\nexport const qudt = RDF.namespace(prefixes.qudt)\nexport const rdf = RDF.namespace(prefixes.rdf)\nexport const schema = RDF.namespace(prefixes.schema)\nexport const sh = RDF.namespace(prefixes.sh)\nexport const time = RDF.namespace(prefixes.time)\nexport const view = RDF.namespace('https://cube.link/view/')\nexport const rdfs = RDF.namespace('http://www.w3.org/2000/01/rdf-schema#')\n\nexport function expand (uri) {\n  if (uri && !uri.includes(':')) return uri\n\n  if (uri.startsWith('http://')) return uri\n\n  try {\n    return _expand(uri)\n  } catch {\n    return uri\n  }\n}\n\nexport function shrink (uri, customBase) {\n  if (customBase && uri.startsWith(customBase)) {\n    return uri.replace(customBase, '').replace(/^[/#]/, '')\n  } else {\n    return _shrink(uri) || uri\n  }\n}\n","\nexport function loading () {\n  return { isLoading: true, data: null, error: null }\n}\n\nexport function loaded (data) {\n  return { isLoading: false, data: data, error: null }\n}\n\nexport function error (error) {\n  return { isLoading: false, data: null, error: error }\n}\n\nexport async function fetch (callback) {\n  try {\n    const result = await callback()\n    return loaded(result)\n  } catch (e) {\n    console.log(e)\n    return error(e)\n  }\n}\n","/* eslint-disable */\nimport { defineStore } from 'pinia'\nimport rdf from 'rdf-ext'\nimport { ref } from 'vue'\nimport { cubeDimensionsWithFallBack } from '../components/common/cubeDimensions.js'\nimport { isLabelDimensionTarget } from '../components/common/labelFor.js'\nimport { getOperationLabel } from '../model/operation.js'\nimport * as ns from '../namespace.js'\n\nconst defaultLanguage = ['en', '*']\n\nconst useLangStore = defineStore('langStore', () => {\n\n  // State\n  const language = ref(defaultLanguage) // The current application language\n  const base = ref('') // Used to shrink labels\n  const pointer = ref(rdf.clownface()) // The current data cache\n\n  // Getters\n  function setPointers (view) {\n    const cubeTerm = view.dimensions[0].cubes[0]\n    pointer.value = view.ptr.node(cubeTerm)\n    base.value = pointer.value.term\n  }\n\n  function getDisplayTerm (term) {\n    if (!term) {\n      return undefined\n    }\n    if (term.termType === 'NamedNode') {\n      return (pointer.value.node(term).out(ns.schema.name, { language: language.value }).term || pointer.value.node(term).out(ns.rdfs.label, { language: language.value }).term || term)\n    }\n    return term\n  }\n\n  function getDisplayString (term, withTypes = false) {\n    if (term.termType === 'Literal') {\n      const datatype = (withTypes && term.datatype) ? `^^${getShortLabel(term.datatype, base.value)}` : ''\n      const language = (withTypes && term.language) ? `@${term.language}` : ''\n      return `\"${term.value}${language}\"${datatype}`\n    } else {\n      return getShortLabel(term, base.value)\n    }\n  }\n\n  function getFilterLabel ({\n    operation,\n    arg,\n    args,\n    argsList\n  }) {\n    function getLabel (term) {\n      const displayTerm = getDisplayTerm(term)\n      return getDisplayString(displayTerm)\n    }\n\n    const operationLabel = getOperationLabel(operation)\n\n    const argLabel = arg ? getLabel(arg) : ''\n    const argsLabel = (!arg && args) ? `${args.map(getLabel).join(',')}` : ''\n    const argsListLabel = argsList ? `[${argsList.map(getLabel).join(',')}]` : ''\n    return `${operationLabel} ${argLabel}${argsLabel}${argsListLabel}`\n  }\n\n  return {\n    language,\n    pointer,\n    setPointers,\n    getDisplayTerm,\n    getDisplayString,\n    getFilterLabel\n  }\n})\n\nfunction shaclTermsWithNoLabel (view, pointer) {\n  const result = rdf.termSet()\n  view.dimensions.forEach(dimension => {\n    cubeDimensionsWithFallBack({dimension}).forEach(cubeDimension => {\n      cubeDimension.in.filter(term => term.termType === 'NamedNode').forEach(named => {\n        if (!pointer.node(named).out(ns.schema.name).value) {\n          result.add(named)\n        }\n      })\n    })\n  })\n  return result\n}\n\nfunction observationsTermsWithNoLabel ({\n  observations,\n  view\n}) {\n  const result = rdf.termSet()\n\n  for (const row of observations?.data ?? []) {\n    for (const [cubePathStr, value] of Object.entries(row)) {\n      if (value && value.termType === 'NamedNode' && !isLabelDimensionTarget({\n        cubePathStr,\n        view\n      })) {\n        if (!view.ptr.node(value).out(ns.schema.name).value) {\n          result.add(value)\n        }\n      }\n    }\n  }\n  return result\n}\n\nfunction getShortLabel (term, base) {\n  const isString = (val) => (typeof val === 'string' || val instanceof String)\n  const termString = isString(term) ? term : term.value\n  const baseString = isString(base) ? base : base.value\n\n  const result = ns.shrink(termString, baseString)\n  // @TODO find a better heuristic\n  if (result === termString) { // If the term was not modified, try again with a shorter base\n    return ns.shrink(termString, baseString.split('/').splice(0, baseString.split('/').length - 1).join('/'))\n  }\n  return result\n}\n\n\nexport { observationsTermsWithNoLabel, shaclTermsWithNoLabel, getShortLabel }\nexport default useLangStore\n","<template>\n  <Dialog :open=\"isOpen\" @close=\"$emit('close')\" class=\"fixed inset-0 z-10 overflow-y-auto\">\n    <div class=\"flex items-center justify-center min-h-screen px-4\">\n      <dialog-overlay class=\"fixed inset-0 bg-black opacity-40\" />\n\n      <div class=\"z-10 max-w-full overflow-x-auto mx-auto bg-white rounded p-4\">\n        <dialog-title class=\"flex justify-between items-center gap-2 mb-2 font-bold\">\n          <!-- Resource Explorer -->\n\n          <button type=\"button\" class=\"button-text\" title=\"Close\" @click=\"$emit('close')\">\n            <x-circle-icon class=\"h-6 w-6\" />\n          </button>\n        </dialog-title>\n\n        <resource-details :uri=\"uri\" :pointer=\"pointer\" />\n      </div>\n    </div>\n  </Dialog>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { Dialog, DialogOverlay, DialogTitle } from '@headlessui/vue'\nimport { XCircleIcon } from '@heroicons/vue/outline'\nimport { Term } from '@rdfjs/data-model'\nimport ResourceDetails from './ResourceDetails.vue'\n\nexport default defineComponent({\n  name: 'ResourceExplorer',\n  components: { Dialog, DialogOverlay, DialogTitle, ResourceDetails, XCircleIcon },\n  props: {\n    isOpen: { type: Boolean, required: true },\n    uri: { type: Term, required: true },\n    pointer: { type: Object, required: true },\n  },\n  emits: ['close'],\n})\n</script>\n","<template>\n  <div>\n    <h2 class=\"mb-4 whitespace-nowrap\">\n      <a :href=\"uri.value\" target=\"_blank\" rel=\"noopener\" class=\"group flex items-center gap-1\">\n        {{ uri.value }}\n        <external-link-icon class=\"w-4 h-4 invisible group-hover:visible\" />\n      </a>\n    </h2>\n    <loading-icon v-if=\"resource.isLoading\" />\n    <section v-else-if=\"resource.error\" class=\"text-red-500\">\n      <h3 class=\"font-bold\">Could not load resource</h3>\n      {{ resource.error }}\n    </section>\n    <table v-else>\n      <tr v-for=\"([predicate, objects], index) in properties\" :key=\"index\" class=\"align-top\">\n        <td class=\"py-2 pr-4 font-semibold\">\n          <term-display :term=\"predicate\" :base=\"pointer.term.value\" />\n        </td>\n        <td class=\"py-2 flex flex-col gap-1\">\n          <p v-for=\"(object, objectIndex) in objects\" :key=\"objectIndex\">\n            <observation-value :value=\"object\" :pointer=\"pointer\" />\n          </p>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { defineAsyncComponent, defineComponent, ref, toRefs, onMounted, watch } from 'vue'\nimport { ExternalLinkIcon } from '@heroicons/vue/solid'\nimport { Term } from '@rdfjs/data-model'\nimport formats from '@rdfjs/formats-common'\nimport RDF from 'rdf-ext'\nimport LoadingIcon from './icons/LoadingIcon.vue'\nimport TermDisplay from './TermDisplay.vue'\nimport * as Remote from '../remote'\n\nRDF.formats.import(formats)\n\nexport default defineComponent({\n  name: 'ResourceDetails',\n  components: {\n    ExternalLinkIcon,\n    LoadingIcon,\n    ObservationValue: defineAsyncComponent(() => import('./ObservationValue.vue')),\n    TermDisplay,\n  },\n  props: {\n    uri: {\n      type: Term,\n      required: true,\n    },\n    pointer: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  setup (props) {\n    const { uri } = toRefs(props)\n\n    const resource = ref(Remote.loading())\n    const fetchResource = async () => {\n      const term = uri.value\n\n      try {\n        const response = await RDF.fetch(term.value)\n\n        if (response.status === 200) {\n          const dataset = await response.dataset()\n\n          resource.value = Remote.loaded(RDF.clownface({ dataset, term }))\n        } else {\n          throw new Error(`${response.status}`)\n        }\n      } catch (e) {\n        resource.value = Remote.error(e.message)\n      }\n    }\n    onMounted(fetchResource)\n    watch(uri, fetchResource)\n\n    return {\n      resource,\n    }\n  },\n\n  computed: {\n    properties () {\n      const resource = this.resource.data\n\n      if (!resource) return []\n\n      const resourceQuads = [...resource.dataset.match(resource.term, null, null)]\n      const resourcePredicates = RDF.termSet(resourceQuads.map(({ predicate }) => predicate))\n\n      return [...resourcePredicates].map((predicate) => {\n        const values = resource.out(predicate).terms\n\n        return [predicate, values]\n      })\n    },\n  },\n})\n</script>\n","import { render } from \"./ResourceDetails.vue?vue&type=template&id=5897ddbf\"\nimport script from \"./ResourceDetails.vue?vue&type=script&lang=js\"\nexport * from \"./ResourceDetails.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ResourceExplorer.vue?vue&type=template&id=000d8b9e\"\nimport script from \"./ResourceExplorer.vue?vue&type=script&lang=js\"\nexport * from \"./ResourceExplorer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { Term } from '@rdfjs/data-model'\nimport { defineProps, ref } from 'vue'\nimport useLangStore from '../stores/langStore.js'\nimport ResourceExplorer from './ResourceExplorer.vue'\nimport TermDisplay from './TermDisplay.vue'\n\nconst props = defineProps({\n  value: {\n    type: Term,\n    required: true\n  },\n  forceLabel: {\n    type: Term,\n    required: false\n  }\n})\n\nconst showResourceExplorer = ref(false)\nconst langStore = useLangStore()\n\n</script>\n\n<template>\n  <span v-if=\"!value\">-</span>\n  <term-display v-else-if=\"value.termType === 'Literal'\" :term=\"value\"/>\n  <div v-else class=\"flex-grow flex items-center justify-end\">\n    <button @click=\"showResourceExplorer = true\" class=\"tag bg-gray-200 whitespace-nowrap\">\n      <term-display v-if=\"forceLabel\" :term=\"forceLabel\"/>\n      <term-display v-else :term=\"value\"/>\n    </button>\n    <resource-explorer\n      :uri=\"value\"\n      :pointer=\"langStore.pointer\"\n      :is-open=\"showResourceExplorer\"\n      @close=\"showResourceExplorer = false\"\n    />\n  </div>\n</template>\n","import script from \"./ObservationValue.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ObservationValue.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\n/* eslint-disable */\nimport { Term } from '@rdfjs/data-model'\nimport { computed, defineProps } from 'vue'\nimport useLangStore from '../stores/langStore.js'\n\nconst props = defineProps({\n  term: {\n    type: Term,\n    required: true\n  },\n  showLanguage: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst {\n  getDisplayTerm,\n  getDisplayString\n} = useLangStore()\n\nconst title = computed(() => {\n  return getDisplayString ? getDisplayString(props.term) : props.term\n})\n\nconst displayValue = computed(() => {\n  return getDisplayTerm ? getDisplayTerm(props.term).value : props.term.value\n})\n\n</script>\n\n<template>\n  <span :title=\"title\">\n    {{ displayValue }}\n    <span v-if=\"showLanguage && term.language\" class=\"text-gray-400\">@{{ term.language }}</span>\n  </span>\n</template>\n","import script from \"./TermDisplay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TermDisplay.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <svg class=\"animate-spin h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n    <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n    <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n  </svg>\n</template>\n","import { render } from \"./LoadingIcon.vue?vue&type=template&id=772ea59b\"\nconst script = {}\n\nimport exportComponent from \"/home/runner/work/cube-viewer/cube-viewer/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"5\":\"f03e7855\",\"21\":\"f9e08b55\",\"46\":\"8168bc88\",\"144\":\"150719c5\",\"206\":\"f6e56e5d\",\"404\":\"9a5d18f2\",\"442\":\"b4c6bd3b\",\"476\":\"278d1186\",\"565\":\"fb659822\",\"624\":\"0bcff1c6\",\"650\":\"04f2b15d\",\"787\":\"7e6f2e16\",\"833\":\"660f9520\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"cube-viewer:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcube_viewer\"] = self[\"webpackChunkcube_viewer\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(46024); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["viewAsNN","rdf","viewFrom","toViewDimension","view","cubeDimension","result","dimension","cubeDimensionTerm","ptr","term","dimensions","viewAs","out","equals","viewFromTerm","console","log","value","cubeDimensionsWithFallBack","cubeDimensions","length","terms","map","node","path","dataset","graph","in","isLabelDimension","has","ns","getLabelCubeDimension","labelDimension","viewLabelDimension","find","undefined","getEffectiveDimensions","viewDimensions","projectionDimensions","filter","dim","viewDimension","labelCubePath","isLabelDimensionTarget","cubePathStr","class","_ctx","isLoading","_createElementBlock","_hoisted_1","_createVNode","_component_loading_icon","error","_hoisted_2","onChange","_Fragment","data","cube","key","defineComponent","name","components","LoadingIcon","props","source","type","Source","required","cubeUri","String","emits","setup","toRefs","cubes","ref","Remote","fetchCubes","async","noShape","filters","Cube","onMounted","watch","methods","onSelect","event","this","$emit","target","__exports__","render","_createBlock","_component_Listbox","modelValue","$event","as","_component_ListboxButton","_renderSlot","selected","label","_component_chevron_down_icon","_component_ListboxOptions","option","index","_component_ListboxOption","onClick","preventDefault","active","_createElementVNode","_component_check_icon","CheckIcon","ChevronDownIcon","Listbox","ListboxButton","ListboxOptions","ListboxOption","options","Array","viewUri","views","entityTypes","languages","params","useUrlSearchParams","open","ifNoInputSelected","endpoint","endpointUrl","process","VUE_APP_ENDPOINT_URL","user","password","sourceGraph","entityType","computed","viewInput","langStore","useLangStore","language","pointer","storeToRefs","updateLanguage","selectedLang","isValid","updateSource","emit","switchEntityType","arg","updateCubeUri","updateViewUri","clearInput","getBoundedViewPointer","getBoundedDescription","descriptionWithBlankNodes","level","quad","subject","termType","predicate","startsWith","addAll","match","DEFAULT_PAGE_SIZE","projectionFromView","offset","pageSize","limit","page","Math","floor","sortDimension","sortDirection","getSorting","updateViewProjection","projection","getOrderBy","orderDimension","direction","orderBy","updateProjection","Error","viewFromCubeUri","CubeSource","View","checkViewData","applyDefaults","viewFromViewUri","fetchCubesShapes","viewFromDataset","fallbackSource","ViewBuilder","sources","_component_Dialog","onClose","_component_dialog_overlay","_component_dialog_title","title","_component_x_circle_icon","objects","_hoisted_3","_component_term_display","_hoisted_4","object","Dialog","DialogOverlay","DialogTitle","TermDisplay","XCircleIcon","Clownface","isOpen","Boolean","default","properties","predicates","RDF","isMetadataOpen","description","text","copy","copied","isSupported","useClipboard","copyURL","url","body","URLSearchParams","response","fetch","method","res","status","prepareParams","URL","window","location","href","expose","useViewStore","defineStore","currentView","shallowRef","filtersOfDimension","x","removeFilter","clearFilter","updateDimensionFilters","newFilters","argList","newFilter","Filter","operation","args","parent","addFilter","parseError","onParsingFailed","e","detail","editor","onQuadsChanged","prefixes","purl","schema","shacl","CURRENT_VIEW","ALL","IMPORT_QUADS","OTHERS","editBoxQuads","updateEditBoxQuads","contents","loadViewFromData","roundTrip","debugView","state","initialState","viewBoxQuads","allQuads","viewInfo","push","viewDimensionTerm","cubeDimensionsTerms","cubesTerms","endpoints","_resolveDynamicComponent","labels","icons","ClockIcon","LocationMarkerIcon","MapIcon","dataKind","dataKindType","icon","QuestionMarkCircleIcon","update","textValue","datatype","getDisplayTerm","validOperations","currentOperation","exceptionLabel","updateOperation","updateArg","currentArg","tryUpdate","updateArgs","operations","onlyLiterals","isNamed","readOnly","filterWrapper","viewStore","submit","dimensionFilters","filterPlaceholder","updateFilter","argsList","getFilterLabel","_component_information_circle_icon","_component_resource_details_dialog","InformationCircleIcon","ResourceDetailsDialog","Object","metadataTitle","ViewGridIcon","ViewListIcon","PresentationChartLineIcon","ScaleIcon","scaleOfMeasure","split","slice","property","isMeasure","isKey","isShared","scaleType","isSortDimension","isSortAscending","isSortDescending","updateSort","toggleDirection","dimensionIdentifier","disabled","_component_chevron_double_left_icon","_component_chevron_left_icon","_hoisted_5","inputmode","_hoisted_7","_component_exclamation_circle_icon","_component_chevron_right_icon","_component_chevron_double_right_icon","Number","pageSizes","ChevronDoubleLeftIcon","ChevronDoubleRightIcon","ChevronLeftIcon","ChevronRightIcon","ExclamationCircleIcon","itemsCount","pagesCount","ceil","updatePage","number","isNaN","viewNs","schemaNs","getLabel","getColumnHeaderLabel","joinDimension","from","join","targetDimension","joinLabel","joined","debugOpen","refreshCounter","queryQueue","queue","setPointers","initView","initProjection","buildFiltersSummary","fetchObservationsAndLabels","fetchShaclLabels","observations","observationCount","updateObservations","v","fetchObservations","add","bind","toString","refreshObservations","pageArg","updatePageSize","pageSizeArg","shaclTermsWithNoLabel","chunkSize","chunk","splice","populateLabels","callback","getMainSource","uris","client","query","construct","fetchObservationsLabels","observationsTermsWithNoLabel","filtersSummary","currElement","getDimensionLabel","getDisplayString","dimensionLabel","filterLabel","notNull","updateFilters","updateDataset","isNumericScale","isMeasureDimension","dims","DELAY","fetchView","initFromProps","viewIsLoading","isReady","viewIsReady","viewError","execute","useAsyncState","delay","resetOnExecute","immediate","tabularView","shareButton","datasetN3","document","protocol","host","encodeURIComponent","parser","Parser","initError","onlyOne","inputParameterIsValid","setViewInput","setURLParams","quads","parse","app","createApp","App","use","createPinia","mount","multipleValues","getOperationLabel","current","meta","qudt","sh","time","rdfs","shrink","uri","customBase","replace","_shrink","loading","loaded","defaultLanguage","base","cubeTerm","withTypes","getShortLabel","displayTerm","operationLabel","argLabel","argsLabel","argsListLabel","forEach","named","row","entries","isString","val","termString","baseString","_component_resource_details","rel","_component_external_link_icon","_hoisted_6","objectIndex","_component_observation_value","formats","ExternalLinkIcon","ObservationValue","defineAsyncComponent","Term","resource","fetchResource","message","resourceQuads","resourcePredicates","values","ResourceDetails","showResourceExplorer","displayValue","xmlns","fill","viewBox","cx","cy","r","stroke","d","script","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","id","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","n","getter","__esModule","a","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","t","mode","then","create","def","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","parentNode","removeChild","setTimeout","head","appendChild","Symbol","toStringTag","nmd","paths","children","p","installedChunks","installedChunkData","promise","resolve","reject","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}